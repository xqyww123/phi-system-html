<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">

<head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><link rel="stylesheet" type="text/css" href="isabelle.css"/>
<title>Theory Bucket_Hash</title>
</head>


<body>
<div class="head">
<h1>Theory Bucket_Hash</h1>
</div>

<pre class="source"><span class="keyword1"><span class="command"><span>theory</span></span></span><span> </span><a href="Bucket_Hash.html"><span>Bucket_Hash</span></a><span>
  </span><span class="keyword2"><span class="keyword"><span>imports</span></span></span><span> </span><a href="Rational_Arith.html"><span>Rational_Arith</span></a><span> </span><a href="Dynamic_Array_arbi_len.html"><span>Dynamic_Array_arbi_len</span></a><span> </span><a href="Phi_Semantics.PhiSem_Mem_C_MI.html"><span>Phi_Semantics.PhiSem_Mem_C_MI</span></a><span>
          </span><a href="../PhiStd/PhiStd_Slice.html"><span>PhiStd.PhiStd_Slice</span></a><span>
          </span><span class="quoted"><span>"</span><a href="HOL-Data_Structures.AList_Upd_Del.html"><span>HOL-Data_Structures.AList_Upd_Del</span></a><span>"</span></span><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹We ignore arithmetic overflow in the length of a dynamic array,
      because otherwise the hash table cannot be specified in the expected way.
      However, we still consider arithmetic overflow in any other cases.›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.Suc_le_eq|fact"><span>Suc_le_eq</span></a><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span class="entity_def" id="Bucket_Hash.\&lt;k&gt;\&lt;v&gt;_\&lt;e&gt;\&lt;n&gt;\&lt;t&gt;\&lt;r&gt;\&lt;y&gt;|const"><span>𝗄𝗏_𝖾𝗇𝗍𝗋𝗒</span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>TY</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><span>𝗌𝗍𝗋𝗎𝖼𝗍</span></span><span class="main"><span>{</span></span><span>k</span><span class="main"><span>:</span></span><span> </span><a class="entity_ref" href="Phi_Semantics.PhiSem_Mem_C_MI.html#PhiSem_Mem_C_MI.\&lt;s&gt;\&lt;i&gt;\&lt;z&gt;\&lt;e&gt;_\&lt;t&gt;|const"><span>𝗌𝗂𝗓𝖾_𝗍</span></a><span class="main"><span>,</span></span><span> v</span><span class="main"><span>:</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>TY</span></span></span></span><span class="main"><span>}</span></span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span class="entity_def" id="Bucket_Hash.hash|const"><span>hash</span></span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span class="main"><span>::</span></span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span class="main"><span>)</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>x</span></span></span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Rings.html#Rings.modulo_class.modulo|const"><span>mod</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>n</span></span></span></span><span>›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>abbreviation</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span class="entity_def" id="Bucket_Hash.\&lt;h&gt;\&lt;a&gt;\&lt;s&gt;\&lt;h&gt;|const"><span>𝗁𝖺𝗌𝗁</span></span></span><span> </span><span class="main"><span>≡</span></span><span> </span><span class="keyword1"><span>𝗌𝗍𝗋𝗎𝖼𝗍</span></span><span> </span><span class="main"><span>{</span></span><span>tabl</span><span class="main"><span>:</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_Pointer.html#PhiSem_Mem_Pointer.\&lt;p&gt;\&lt;o&gt;\&lt;i&gt;\&lt;n&gt;\&lt;t&gt;\&lt;e&gt;\&lt;r&gt;|const"><span>𝗉𝗍𝗋</span></a></span><span class="main"><span>,</span></span><span> N</span><span class="main"><span>:</span></span><span> </span><a class="entity_ref" href="Phi_Semantics.PhiSem_Mem_C_MI.html#PhiSem_Mem_C_MI.\&lt;s&gt;\&lt;i&gt;\&lt;z&gt;\&lt;e&gt;_\&lt;t&gt;|const"><span>𝗌𝗂𝗓𝖾_𝗍</span></a><span class="main"><span>}</span></span><span> ›</span></span></span><span>


</span><span class="keyword1"><span class="command"><span class="entity_def" id="Bucket_Hash.Hash_def|fact"><span class="entity_def" id="Bucket_Hash.Hash_def|thm"><span class="entity_def" id="Bucket_Hash.Hash_def_raw|axiom"><span>φtype_def</span></span></span></span></span></span><span> </span><span class="entity"><span class="entity_def" id="Bucket_Hash.Hash|const"><span>Hash</span></span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_Pointer.html#PhiSem_Mem_Pointer.address|type"><span>address</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.TY|type"><span>TY</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.VAL|type"><span>VAL</span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'x</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;|type"><span>φ</span></a><span> </span><span class="main"><span>⇒</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.fiction|type"><span>fiction</span></a><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Nat.html#Nat.nat|type"><span>nat</span></a><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.map|type"><span>⇀</span></a></span><span> </span><span class="tfree"><span>'x</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;|type"><span>φ</span></a><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="free"><span>Hash</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>addr</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>TY</span></span></span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span> </span><span class="main"><span>≡</span></span><span> 
       </span><span class="main"><span>(</span></span><span class="bound"><span>tabl_addr</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>N</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_C.html#PhiSem_Mem_C.Mem_synt|const"><span>𝗆𝖾𝗆[</span></a></span><span class="free"><span class="bound"><span class="entity"><span>addr</span></span></span></span><span class="main"><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_C.html#PhiSem_Mem_C.Mem_synt|const"><span>]</span></a></span><span> </span><span class="main"><span>⦃</span></span><span> tabl</span><span class="main"><span>:</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_Pointer.html#PhiSem_Mem_Pointer.Ptr|const"><span>ℙ𝗍𝗋</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Aggregate_Array.html#PhiSem_Aggregate_Array.mk_array_T|const"><span>𝖺𝗋𝗋𝖺𝗒[</span></a></span><span class="bound"><span>N</span></span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Aggregate_Array.html#PhiSem_Aggregate_Array.mk_array_T|const"><span>]</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_Pointer.html#PhiSem_Mem_Pointer.\&lt;p&gt;\&lt;o&gt;\&lt;i&gt;\&lt;n&gt;\&lt;t&gt;\&lt;e&gt;\&lt;r&gt;|const"><span>𝗉𝗍𝗋</span></a></span><span class="main"><span>,</span></span><span> N</span><span class="main"><span>:</span></span><span> </span><span class="main"><span>ℕ(</span></span><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_Pointer.html#PhiSem_Mem_Pointer.\&lt;s&gt;\&lt;i&gt;\&lt;z&gt;\&lt;e&gt;_\&lt;t&gt;|type"><span>𝗌𝗂𝗓𝖾_𝗍</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>⦄</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span>
        </span><span class="bound"><span>bucket_ptrs</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_C.html#PhiSem_Mem_C.Mem_synt|const"><span>𝗆𝖾𝗆[</span></a></span><span class="bound"><span>tabl_addr</span></span><span class="main"><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_C.html#PhiSem_Mem_C.Mem_synt|const"><span>]</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Aggregate_Array.html#PhiSem_Aggregate_Array.Array|const"><span>𝔸𝗋𝗋𝖺𝗒[</span></a></span><span class="bound"><span>N</span></span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Aggregate_Array.html#PhiSem_Aggregate_Array.Array|const"><span>]</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_Pointer.html#PhiSem_Mem_Pointer.Ptr|const"><span>ℙ𝗍𝗋</span></a></span><span> </span><a class="entity_ref" href="Dynamic_Array_arbi_len.html#Dynamic_Array_arbi_len.\&lt;d&gt;\&lt;y&gt;\&lt;n&gt;\&lt;a&gt;\&lt;r&gt;\&lt;r&gt;|const"><span>𝖽𝗒𝗇𝖺𝗋𝗋</span></a><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span>
        </span><span class="bound"><span>buckets</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Phi_Types.html#Phi_Types.\&lt;phi&gt;Mul_Quant\&lt;^sub&gt;\&lt;Lambda&gt;|const"><span>✱<span class="hidden">⇧</span><sup>φ</sup></span></a></span><span> </span><span class="main"><span>{</span></span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="bound"><span>N</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Dynamic_Array_arbi_len.html#Dynamic_Array_arbi_len.DynArr|const"><span>DynArr</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>bucket_ptrs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.nth|const"><span>!</span></a></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Bucket_Hash.html#Bucket_Hash.\&lt;k&gt;\&lt;v&gt;_\&lt;e&gt;\&lt;n&gt;\&lt;t&gt;\&lt;r&gt;\&lt;y&gt;|const"><span>𝗄𝗏_𝖾𝗇𝗍𝗋𝗒</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>TY</span></span></span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⦃</span></span><span>k</span><span class="main"><span>:</span></span><span> </span><span class="main"><span>ℕ(</span></span><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_Pointer.html#PhiSem_Mem_Pointer.\&lt;s&gt;\&lt;i&gt;\&lt;z&gt;\&lt;e&gt;_\&lt;t&gt;|type"><span>𝗌𝗂𝗓𝖾_𝗍</span></a><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> v</span><span class="main"><span>:</span></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>T</span></span></span></span><span class="main"><span>⦄</span></span><span class="main"><span>)</span></span><span>
       </span><span class="keyword1"><span>𝗌𝗎𝖻𝗃</span></span><span> </span><span class="bound"><span>bucket_ptrs</span></span><span> </span><span class="bound"><span>buckets</span></span><span> </span><span class="bound"><span>tabl_addr</span></span><span> </span><span class="bound"><span>N</span></span><span class="main"><span>.</span></span><span>
           </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.length|const"><span>length</span></a><span> </span><span class="bound"><span>bucket_ptrs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="bound"><span>N</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span>
           </span><span class="main"><span>(</span></span><span class="main"><span>∀</span></span><span class="bound"><span class="bound"><span>i</span></span></span><span> </span><span class="main"><span>&lt;</span></span><span> </span><span class="bound"><span>N</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.list_all|const"><span>list_all</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span>(</span></span><span class="bound"><span>k</span></span><span class="main"><span>,</span></span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Bucket_Hash.html#Bucket_Hash.hash|const"><span>hash</span></a><span> </span><span class="bound"><span>k</span></span><span> </span><span class="bound"><span>N</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>buckets</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.distinct|const"><span>distinct</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span>map</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span>fst</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>buckets</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span>
           </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>∀</span></a></span><span class="bound"><span>k</span></span><span> </span><span class="bound"><span>x</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.All|const"><span>.</span></a></span><span> </span><span class="free"><span class="bound"><span class="entity"><span>f</span></span></span></span><span> </span><span class="bound"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="bound"><span>x</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.iff|const"><span>⟷</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>∃</span></span><span class="bound"><span class="bound"><span>i</span></span></span><span class="main"><span>&lt;</span></span><span class="bound"><span>N</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>k</span></span><span class="main"><span>,</span></span><span class="bound"><span>x</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>buckets</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span>
           </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="bound"><span>N</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_C.html#PhiSem_Mem_C.address_to_base|const"><span>address_to_base</span></a><span> </span><span class="bound"><span>tabl_addr</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_C.html#PhiSem_Mem_C.address_to_base|const"><span>address_to_base</span></a><span> </span><span class="free"><span class="bound"><span class="entity"><span>addr</span></span></span></span><span> ›</span></span></span><span>

</span><span class="keyword2"><span class="keyword"><span>deriving</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹ </span><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.Abstract_Domain|const"><span>Abstract_Domain</span></a><span> </span><span class="free"><span>T</span></span><span> </span><span class="free"><span>P</span></span><span>
       </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.Abstract_Domain|const"><span>Abstract_Domain</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Bucket_Hash.html#Bucket_Hash.Hash|const"><span>Hash</span></a><span> </span><span class="free"><span>addr</span></span><span> </span><span class="free"><span>TY</span></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>f</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>∀</span></span><span class="bound"><span>k</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom|const"><span>dom</span></a><span> </span><span class="bound"><span>f</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>P</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.the|const"><span>the</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>f</span></span><span> </span><span class="bound"><span>k</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>notes</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list_all_length|fact"><span>list_all_length</span></a><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Let_def|fact"><span>Let_def</span></a><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set_eq_iff|fact"><span>set_eq_iff</span></a><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span>

    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹   </span><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.Object_Equiv|const"><span>Object_Equiv</span></a><span> </span><span class="free"><span>T</span></span><span> </span><span class="free"><span>eq</span></span><span>
        </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.Object_Equiv|const"><span>Object_Equiv</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Bucket_Hash.html#Bucket_Hash.Hash|const"><span>Hash</span></a><span> </span><span class="free"><span>addr</span></span><span> </span><span class="free"><span>TY</span></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>f</span></span><span> </span><span class="bound"><span>g</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom|const"><span>dom</span></a><span> </span><span class="bound"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom|const"><span>dom</span></a><span> </span><span class="bound"><span>g</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>∀</span></span><span class="bound"><span>k</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom|const"><span>dom</span></a><span> </span><span class="bound"><span>g</span></span><span class="main"><span>.</span></span><span> </span><span class="free"><span>eq</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.the|const"><span>the</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>f</span></span><span> </span><span class="bound"><span>k</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.the|const"><span>the</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>g</span></span><span> </span><span class="bound"><span>k</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>

    </span><span class="keyword2"><span class="keyword"><span>notes</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.case_prod_beta|fact"><span>case_prod_beta</span></a><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list_all2_conv_all_nth|fact"><span>list_all2_conv_all_nth</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="../Phi_System/IDE_CP_Core.html#IDE_CP_Core.\&lt;phi&gt;sledgehammer_simps|attribute"><span class="operator"><span>φsledgehammer_simps</span></span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list_all_length|fact"><span>list_all_length</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="../Phi_System/IDE_CP_Core.html#IDE_CP_Core.\&lt;phi&gt;sledgehammer_simps|attribute"><span class="operator"><span>φsledgehammer_simps</span></span></a><span class="main"><span>]</span></span><span>
          </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.image_iff|fact"><span>image_iff</span></a><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.domIff|fact"><span>domIff</span></a><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span>
          </span><span class="main"><span>(</span></span><span>tactic</span><span class="main"><span>:</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> simp</span><span class="main"><span>:</span></span><span> Ball_def Bex_def set_eq_iff</span><span class="main"><span class="keyword3"><span>,</span></span></span><span>
                   </span><a class="entity_ref" href="../Phi_System/Phi_Preliminary.html#Phi_Preliminary.subgoal&apos;|method"><span class="operator"><span>subgoal'</span></span></a><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> f f' xb buckets tabl_addr </span><span class="quoted"><span>‹</span><span>rule exI[where x=‹λi. map (λ(k,_). (k, the (f' k))) (buckets i)›]</span><span>›</span></span><span> </span><span class="main"><span>)</span></span><span>

    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="../Phi_System/Phi_Type.html#Phi_Type.Transformation_Functor|const"><span>Transformation_Functor</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Bucket_Hash.html#Bucket_Hash.Hash|const"><span>Hash</span></a><span> </span><span class="free"><span>addr</span></span><span> </span><span class="free"><span>TY</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Bucket_Hash.html#Bucket_Hash.Hash|const"><span>Hash</span></a><span> </span><span class="free"><span>addr</span></span><span> </span><span class="free"><span>TY</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="free"><span>U</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span>UNIV</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span>UNIV</span></a><span class="main"><span>)</span></span><span>
                                </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>r</span></span><span> </span><span class="bound"><span>f</span></span><span> </span><span class="bound"><span>g</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom|const"><span>dom</span></a><span> </span><span class="bound"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom|const"><span>dom</span></a><span> </span><span class="bound"><span>g</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>∀</span></span><span class="bound"><span>k</span></span><span> </span><span class="main"><span>∈</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom|const"><span>dom</span></a><span> </span><span class="bound"><span>g</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>r</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.the|const"><span>the</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>f</span></span><span> </span><span class="bound"><span>k</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.the|const"><span>the</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>g</span></span><span> </span><span class="bound"><span>k</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>

    </span><span class="keyword2"><span class="keyword"><span>notes</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.set_eq_iff|fact"><span>set_eq_iff</span></a><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../Phi_System/IDE_CP_Core.html#IDE_CP_Core.\&lt;phi&gt;sledgehammer_simps|attribute"><span class="operator"><span>φsledgehammer_simps</span></span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list_all2_conv_all_nth|fact"><span>list_all2_conv_all_nth</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="../Phi_System/IDE_CP_Core.html#IDE_CP_Core.\&lt;phi&gt;sledgehammer_simps|attribute"><span class="operator"><span>φsledgehammer_simps</span></span></a><span class="main"><span>]</span></span><span>
          </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list_all_length|fact"><span>list_all_length</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="../Phi_System/IDE_CP_Core.html#IDE_CP_Core.\&lt;phi&gt;sledgehammer_simps|attribute"><span class="operator"><span>φsledgehammer_simps</span></span></a><span class="main"><span>]</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.in_set_conv_nth|fact"><span>in_set_conv_nth</span></a><span class="main"><span>[</span></span><a class="entity_ref" href="../Phi_System/IDE_CP_Core.html#IDE_CP_Core.\&lt;phi&gt;sledgehammer_simps|attribute"><span class="operator"><span>φsledgehammer_simps</span></span></a><span class="main"><span>]</span></span><span>
    </span><span class="main"><span>(</span></span><span>tactic</span><span class="main"><span>:</span></span><span>  </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span>
              </span><a class="entity_ref" href="../Phi_System/Phi_Preliminary.html#Phi_Preliminary.subgoal&apos;|method"><span class="operator"><span>subgoal'</span></span></a><span> </span><span class="keyword2"><span class="keyword"><span>for</span></span></span><span> x xa xb xc xd xe </span><span class="quoted"><span>‹</span><span>rule exI[where x=xe]</span><span class="keyword3"><span>,</span></span><span> (rule conjI)</span><span class="keyword3"><span>+</span></span><span class="keyword3"><span>,</span></span><span> auto_sledgehammer</span><span class="keyword3"><span>,</span></span><span>
                subgoal_tac ‹∃g. ∀k x. g k = Some x ⟷ (∃i&lt;length xb. (k,x) ∈ set (xe i))›</span><span class="keyword3"><span>,</span></span><span>
                clarify</span><span class="keyword3"><span>,</span></span><span> subgoal' for g ‹</span><span>rule exI[where x=g]</span><span>›</span><span class="keyword3"><span>,</span></span><span>
                auto_sledgehammer</span><span class="keyword3"><span>,</span></span><span>
                subgoal_tac ‹⋀k v1 v2.
                      ∃i&lt;length xb. (k,v1) ∈ set (xe i)
                  ⟹ ∃i&lt;length xb. (k,v2) ∈ set (xe i)
                  ⟹ v1 = v2›</span><span class="keyword3"><span>,</span></span><span>
                subst choice_iff[symmetric]</span><span>›</span></span><span class="main"><span>)</span></span><span> 

    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="../Phi_System/Phi_Type.html#Phi_Type.Functional_Transformation_Functor|const"><span>Functional_Transformation_Functor</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Bucket_Hash.html#Bucket_Hash.Hash|const"><span>Hash</span></a><span> </span><span class="free"><span>addr</span></span><span> </span><span class="free"><span>TY</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Bucket_Hash.html#Bucket_Hash.Hash|const"><span>Hash</span></a><span> </span><span class="free"><span>addr</span></span><span> </span><span class="free"><span>TY</span></span><span class="main"><span>)</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="free"><span>U</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span>UNIV</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.UNIV|const"><span>UNIV</span></a><span class="main"><span>)</span></span><span>
              </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="main"><span class="bound"><span>_</span></span></span><span> </span><span class="bound"><span>P</span></span><span> </span><span class="bound"><span>f</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>∀</span></span><span class="bound"><span>k</span></span><span class="main"><span>∈</span></span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom|const"><span>dom</span></a><span> </span><span class="bound"><span>f</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>P</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.the|const"><span>the</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>f</span></span><span> </span><span class="bound"><span>k</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>h</span></span><span> </span><span class="main"><span class="bound"><span>_</span></span></span><span> </span><span class="bound"><span>f</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.map_option|const"><span>map_option</span></a><span> </span><span class="bound"><span>h</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/Fun.html#Fun.comp|const"><span>o</span></a></span><span> </span><span class="bound"><span>f</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>

    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span>Pointer_Of</span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../Phi_System/USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;trace_reasoning|attribute"><span class="operator"><span>φtrace_reasoning</span></span></a><span> </span><span class="main"><span class="main"><span>=</span></span></span><span> 1</span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>proc</span></span></span><span> </span><span class="entity_def" id="Bucket_Hash.calc_hash_\&lt;phi&gt;app|fact"><span class="entity_def" id="Bucket_Hash.calc_hash_def|fact"><span class="entity_def" id="Bucket_Hash.calc_hash_\&lt;phi&gt;app|thm"><span class="entity_def" id="Bucket_Hash.calc_hash_def|thm"><span class="entity_def" id="Bucket_Hash.calc_hash_def|axiom"><span class="entity_def" id="Bucket_Hash.calc_hash|const"><span>calc_hash</span></span></span></span></span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>input</span></span></span><span>  </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><span class="main"><span>ℕ(</span></span><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_Pointer.html#PhiSem_Mem_Pointer.\&lt;s&gt;\&lt;i&gt;\&lt;z&gt;\&lt;e&gt;_\&lt;t&gt;|type"><span>𝗌𝗂𝗓𝖾_𝗍</span></a><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>N</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><span class="main"><span>ℕ(</span></span><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_Pointer.html#PhiSem_Mem_Pointer.\&lt;s&gt;\&lt;i&gt;\&lt;z&gt;\&lt;e&gt;_\&lt;t&gt;|type"><span>𝗌𝗂𝗓𝖾_𝗍</span></a><span class="main"><span>)</span></span><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>premises</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>N</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>output</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="Bucket_Hash.html#Bucket_Hash.hash|const"><span>hash</span></a><span> </span><span class="free"><span>k</span></span><span> </span><span class="free"><span>N</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><span class="main"><span>ℕ(</span></span><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_Pointer.html#PhiSem_Mem_Pointer.\&lt;s&gt;\&lt;i&gt;\&lt;z&gt;\&lt;e&gt;_\&lt;t&gt;|type"><span>𝗌𝗂𝗓𝖾_𝗍</span></a><span class="main"><span>)</span></span><span>›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>❴</span></span></span><span>
  k </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Common_Int.html#PhiSem_Common_Int.%_\&lt;phi&gt;app|fact"><span class="dynamic"><span class="dynamic"><span>%</span></span></span></a></span><span> N
</span><span class="keyword1"><span class="command"><span>❵</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>context</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>fixes</span></span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.VAL|type"><span>VAL</span></a><span class="main"><span>,</span></span><span> </span><span class="tfree"><span>'x</span></span><span class="main"><span>)</span></span><span> </span><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;|type"><span>φ</span></a><span>›</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>TY</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="quoted"><a class="entity_ref" href="../Phi_Semantics_Framework/Phi_Semantics_Framework.html#Phi_Semantics_Framework.TY|type"><span>TY</span></a></span><span>
    </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="free"><span>zero</span></span><span> </span><span class="main"><span>::</span></span><span> </span><span class="tfree"><span class="quoted"><span class="tfree"><span>'x</span></span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>assumes</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../Phi_System/USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>φreason</span></span></a><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Semantic_Type|const"><span>Semantic_Type</span></a><span> </span><span class="free"><span>T</span></span><span> </span><span class="free"><span>TY</span></span><span>›</span></span></span><span>
      </span><span class="keyword2"><span class="keyword"><span>and</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../Phi_System/USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;reason|attribute"><span class="operator"><span>φreason</span></span></a><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Semantic_Zero_Val|const"><span>Semantic_Zero_Val</span></a><span> </span><span class="free"><span>TY</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="free"><span>zero</span></span><span>›</span></span></span><span>
</span><span class="keyword2"><span class="keyword"><span>begin</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>proc</span></span></span><span> </span><span class="entity_def" id="Bucket_Hash.insert_bucket_\&lt;phi&gt;app|fact"><span class="entity_def" id="Bucket_Hash.insert_bucket_def|fact"><span class="entity_def" id="Bucket_Hash.insert_bucket_\&lt;phi&gt;app|thm"><span class="entity_def" id="Bucket_Hash.insert_bucket_def|thm"><span class="entity_def" id="Bucket_Hash.insert_bucket_def|axiom"><span class="entity_def" id="Bucket_Hash.insert_bucket|const"><span class="entity_def" id="offset_3334..3347">insert_bucket</span></span></span></span></span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>input</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>addr</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_Pointer.html#PhiSem_Mem_Pointer.Ptr|const"><span>ℙ𝗍𝗋</span></a></span><span> </span><a class="entity_ref" href="Dynamic_Array_arbi_len.html#Dynamic_Array_arbi_len.\&lt;d&gt;\&lt;y&gt;\&lt;n&gt;\&lt;a&gt;\&lt;r&gt;\&lt;r&gt;|const"><span>𝖽𝗒𝗇𝖺𝗋𝗋</span></a><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><span class="main"><span>ℕ(</span></span><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_Pointer.html#PhiSem_Mem_Pointer.\&lt;s&gt;\&lt;i&gt;\&lt;z&gt;\&lt;e&gt;_\&lt;t&gt;|type"><span>𝗌𝗂𝗓𝖾_𝗍</span></a><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><span class="free"><span>T</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span>
         </span><span class="free"><span>bucket</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="Dynamic_Array_arbi_len.html#Dynamic_Array_arbi_len.DynArr|const"><span>DynArr</span></a><span> </span><span class="free"><span>addr</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Bucket_Hash.html#Bucket_Hash.\&lt;k&gt;\&lt;v&gt;_\&lt;e&gt;\&lt;n&gt;\&lt;t&gt;\&lt;r&gt;\&lt;y&gt;|const"><span>𝗄𝗏_𝖾𝗇𝗍𝗋𝗒</span></a><span> </span><span class="free"><span>TY</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⦃</span></span><span> k</span><span class="main"><span>:</span></span><span> </span><span class="main"><span>ℕ(</span></span><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_Pointer.html#PhiSem_Mem_Pointer.\&lt;s&gt;\&lt;i&gt;\&lt;z&gt;\&lt;e&gt;_\&lt;t&gt;|type"><span>𝗌𝗂𝗓𝖾_𝗍</span></a><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> v</span><span class="main"><span>:</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><span>⦄</span></span><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>premises</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="../../HOL/HOL/List.html#List.distinct|const"><span>distinct</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span>map</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span>fst</span></a><span> </span><span class="free"><span>bucket</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>output</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="bound"><span>bucket'</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="Dynamic_Array_arbi_len.html#Dynamic_Array_arbi_len.DynArr|const"><span>DynArr</span></a><span> </span><span class="free"><span>addr</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Bucket_Hash.html#Bucket_Hash.\&lt;k&gt;\&lt;v&gt;_\&lt;e&gt;\&lt;n&gt;\&lt;t&gt;\&lt;r&gt;\&lt;y&gt;|const"><span>𝗄𝗏_𝖾𝗇𝗍𝗋𝗒</span></a><span> </span><span class="free"><span>TY</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⦃</span></span><span> k</span><span class="main"><span>:</span></span><span> </span><span class="main"><span>ℕ(</span></span><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_Pointer.html#PhiSem_Mem_Pointer.\&lt;s&gt;\&lt;i&gt;\&lt;z&gt;\&lt;e&gt;_\&lt;t&gt;|type"><span>𝗌𝗂𝗓𝖾_𝗍</span></a><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> v</span><span class="main"><span>:</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><span>⦄</span></span><span>
          </span><span class="keyword1"><span>𝗌𝗎𝖻𝗃</span></span><span> </span><span class="bound"><span>bucket'</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="bound"><span>bucket'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="free"><span>bucket</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.minus_class.minus|const"><span>-</span></a></span><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="bound"><span>k'</span></span><span class="main"><span>,</span></span><span class="main"><span class="bound"><span>_</span></span></span><span class="main"><span>)</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>k'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="free"><span>k</span></span><span class="main"><span>}</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.union|const"><span>∪</span></a></span><span> </span><span class="main"><span>{</span></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span class="main"><span>,</span></span><span class="free"><span>v</span></span><span class="main"><span>)</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span>
                        </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.distinct|const"><span>distinct</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span>map</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span>fst</span></a><span> </span><span class="bound"><span>bucket'</span></span><span class="main"><span>)</span></span><span> ›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../Phi_Semantics/PhiSem_CF_Basic.html#PhiSem_CF_Basic.recursive|attribute"><span class="operator"><span>recursive</span></span></a><span class="main"><span>]</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>is</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../Phi_Semantics/PhiSem_CF_Routine.html#PhiSem_CF_Routine.routine|attribute"><span class="operator"><span>routine</span></span></a><span class="main"><span>]</span></span><span>
</span><span class="keyword1"><span class="command"><span>❴</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>var</span></span></span><span> </span><span class="skolem"><span>met</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics/PhiSem_Generic_Boolean.html#PhiSem_Generic_Boolean.False_\&lt;phi&gt;app|fact"><span>False</span></a><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
  </span><a class="entity_ref" href="../PhiStd/PhiStd_Loop_a.html#PhiStd_Loop_a.iterate_a_\&lt;phi&gt;app|fact"><span>iterate_a</span></a><span> </span><span class="main"><span>(</span></span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Int_ArbiPrec.html#PhiSem_Int_ArbiPrec.\&lt;phi&gt;ANat|const"><span>ℕ</span></a></span><span>›</span></span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Dynamic_Array_arbi_len.html#Dynamic_Array_arbi_len.len_dynarr_\&lt;phi&gt;app|fact"><span>len_dynarr</span></a><span> </span><span class="main"><span>(</span></span><span>addr</span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
              </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>λ</span></span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>v</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>k</span></span><span class="main"><span>,</span></span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.take|const"><span>take</span></a><span> </span><span class="bound"><span>i</span></span><span> </span><span class="skolem"><span>bucket</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗋[</span></span><span>met</span><span class="main"><span>]</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Generic_Boolean.html#PhiSem_Generic_Boolean.\&lt;phi&gt;Bool|const"><span>𝔹</span></a></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span>
                   </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.map|const"><span>map</span></a><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>kv</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span>fst</span></a><span> </span><span class="bound"><span>kv</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>k</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>k</span></span><span class="main"><span>,</span></span><span class="skolem"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="bound"><span>kv</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.take|const"><span>take</span></a><span> </span><span class="bound"><span>i</span></span><span> </span><span class="skolem"><span>bucket</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.append|const"><span>@</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.drop|const"><span>drop</span></a><span> </span><span class="bound"><span>i</span></span><span> </span><span class="skolem"><span>bucket</span></span><span class="main"><span>)</span></span><span>
                        </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="Dynamic_Array_arbi_len.html#Dynamic_Array_arbi_len.DynArr|const"><span>DynArr</span></a><span> </span><span class="skolem"><span>addr</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Bucket_Hash.html#Bucket_Hash.\&lt;k&gt;\&lt;v&gt;_\&lt;e&gt;\&lt;n&gt;\&lt;t&gt;\&lt;r&gt;\&lt;y&gt;|const"><span>𝗄𝗏_𝖾𝗇𝗍𝗋𝗒</span></a><span> </span><span class="free"><span>TY</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⦃</span></span><span> k</span><span class="main"><span>:</span></span><span> </span><span class="main"><span>ℕ(</span></span><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_Pointer.html#PhiSem_Mem_Pointer.\&lt;s&gt;\&lt;i&gt;\&lt;z&gt;\&lt;e&gt;_\&lt;t&gt;|type"><span>𝗌𝗂𝗓𝖾_𝗍</span></a><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> v</span><span class="main"><span>:</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><span>⦄</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span> </span><span class="main"><span>→</span></span><span> </span><span class="keyword2"><span class="keyword"><span>val</span></span></span><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>val</span></span></span><span> </span><span class="skolem"><span>kv</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="Dynamic_Array_arbi_len.html#Dynamic_Array_arbi_len.get_dynarr_\&lt;phi&gt;app|fact"><span>get_dynarr</span></a><span class="main"><span>(</span></span><span>addr</span><span class="main"><span>,</span></span><span> i</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../Phi_Semantics/PhiSem_CF_Basic.html#PhiSem_CF_Basic.if_\&lt;phi&gt;app|fact"><span>if</span></a></span></span><span> </span><span class="main"><span>(</span></span><span>kv.k </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Generic_Boolean.html#PhiSem_Generic_Boolean.=_\&lt;phi&gt;app|fact"><span class="dynamic"><span class="dynamic"><span>=</span></span></span></a></span><span> k</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span>
      </span><a class="entity_ref" href="Dynamic_Array_arbi_len.html#Dynamic_Array_arbi_len.set_dynarr_\&lt;phi&gt;app|fact"><span>set_dynarr</span></a><span class="main"><span>(</span></span><span>addr</span><span class="main"><span>,</span></span><span> i</span><span class="main"><span>,</span></span><span> </span><span class="main"><span>⦃</span></span><span> k</span><span class="main"><span>:</span></span><span> k</span><span class="main"><span>,</span></span><span> v</span><span class="main"><span>:</span></span><span> v </span><span class="main"><span>⦄</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
      met </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics/PhiSem_Generic_Boolean.html#PhiSem_Generic_Boolean.True_\&lt;phi&gt;app|fact"><span>True</span></a><span>
    </span><span class="keyword1"><span class="command"><span>❵</span></span></span><span> </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span> </span><span class="keyword1"><span class="command"><span>❵</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>❵</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>certified</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span> </span><span class="quasi_keyword"><span>simp</span></span><span> </span><span class="quasi_keyword"><span>add</span></span><span class="main"><span class="main"><span>:</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list_eq_iff_nth_eq|fact"><span>list_eq_iff_nth_eq</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.nth_append|fact"><span>nth_append</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list_update_append|fact"><span>list_update_append</span></a><span class="main"><span class="keyword3"><span>;</span></span></span><span> </span><a class="entity_ref" href="../Phi_System/USER_HOME/Current/phi-system/Phi_System/library/tools/sledgehammer_solver.ML.html#IDE_CP_Core.auto_sledgehammer|method"><span class="operator"><span>auto_sledgehammer</span></span></a><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
  
  </span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../Phi_Semantics/PhiSem_CF_Basic.html#PhiSem_CF_Basic.if_\&lt;phi&gt;app|fact"><span>if</span></a></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_Semantics/PhiSem_Generic_Boolean.html#PhiSem_Generic_Boolean.\&lt;not&gt;_\&lt;phi&gt;app|fact"><span class="dynamic"><span class="dynamic"><span>¬</span></span></span></a><span> met</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span>
    </span><a class="entity_ref" href="Dynamic_Array_arbi_len.html#Dynamic_Array_arbi_len.push_dynarr_\&lt;phi&gt;app|fact"><span>push_dynarr</span></a><span> </span><span class="main"><span>(</span></span><span>addr</span><span class="main"><span>,</span></span><span> </span><span class="main"><span>⦃</span></span><span> k</span><span class="main"><span>:</span></span><span> k</span><span class="main"><span>,</span></span><span> v</span><span class="main"><span>:</span></span><span> v </span><span class="main"><span>⦄</span></span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>❵</span></span></span><span> </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span> </span><span class="keyword1"><span class="command"><span>❵</span></span></span><span> 
</span><span class="keyword1"><span class="command"><span>❵</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>proc</span></span></span><span> </span><span class="entity_def" id="Bucket_Hash.update_hash_\&lt;phi&gt;app|fact"><span class="entity_def" id="Bucket_Hash.update_hash_def|fact"><span class="entity_def" id="Bucket_Hash.update_hash_\&lt;phi&gt;app|thm"><span class="entity_def" id="Bucket_Hash.update_hash_def|thm"><span class="entity_def" id="Bucket_Hash.update_hash_def|axiom"><span class="entity_def" id="Bucket_Hash.update_hash|const"><span class="entity_def" id="offset_4377..4388">update_hash</span></span></span></span></span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>input</span></span></span><span>  </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>addr</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_Pointer.html#PhiSem_Mem_Pointer.Ptr|const"><span>ℙ𝗍𝗋</span></a></span><span> </span><a class="entity_ref" href="Bucket_Hash.html#Bucket_Hash.\&lt;h&gt;\&lt;a&gt;\&lt;s&gt;\&lt;h&gt;|const"><span>𝗁𝖺𝗌𝗁</span></a><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><span class="main"><span>ℕ(</span></span><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_Pointer.html#PhiSem_Mem_Pointer.\&lt;s&gt;\&lt;i&gt;\&lt;z&gt;\&lt;e&gt;_\&lt;t&gt;|type"><span>𝗌𝗂𝗓𝖾_𝗍</span></a><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><span class="free"><span>T</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="Bucket_Hash.html#Bucket_Hash.Hash|const"><span>Hash</span></a><span> </span><span class="free"><span>addr</span></span><span> </span><span class="free"><span>TY</span></span><span> </span><span class="free"><span>T</span></span><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>output</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>f</span></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>↦</span></span><span> </span><span class="free"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="Bucket_Hash.html#Bucket_Hash.Hash|const"><span>Hash</span></a><span> </span><span class="free"><span>addr</span></span><span> </span><span class="free"><span>TY</span></span><span> </span><span class="free"><span>T</span></span><span>›</span></span></span><span> 
</span><span class="keyword1"><span class="command"><span>❴</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../Phi_System/IDE_CP_Core.html#IDE_CP_Core.\&lt;phi&gt;sledgehammer_simps|attribute"><span class="operator"><span>φsledgehammer_simps</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list_all2_conv_all_nth|fact"><span>list_all2_conv_all_nth</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list_all_length|fact"><span>list_all_length</span></a><span> </span><span class="keyword1"><span class="command"><span>;;</span></span></span><span>

  </span><a class="entity_ref" href="../Phi_System/IDE_CP_Applications1.html#IDE_CP_Applications1.\&lt;t&gt;\&lt;r&gt;\&lt;a&gt;\&lt;n&gt;\&lt;s&gt;\&lt;f&gt;\&lt;o&gt;\&lt;r&gt;\&lt;m&gt;\&lt;s&gt;_\&lt;t&gt;\&lt;o&gt;_\&lt;phi&gt;app|fact"><span>𝗍𝗋𝖺𝗇𝗌𝖿𝗈𝗋𝗆𝗌_𝗍𝗈</span></a><span> </span><span class="quoted"><span class="keyword1"><span>𝗈𝗉𝖾𝗇</span></span></span><span> </span><span class="main"><span>∃</span></span><span class="skolem"><span>bucket_ptrs</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>base</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>buckets</span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>val</span></span></span><span> </span><span class="skolem"><span>tabl_addr</span></span><span> </span><span class="main"><span>←</span></span><span> addr.tabl </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>val</span></span></span><span> </span><span class="skolem"><span>N</span></span><span> </span><span class="main"><span>←</span></span><span> addr.N </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>val</span></span></span><span> </span><span class="skolem"><span>hash</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="Bucket_Hash.html#Bucket_Hash.calc_hash_\&lt;phi&gt;app|fact"><span>calc_hash</span></a><span> </span><span class="main"><span>(</span></span><span>k</span><span class="main"><span>,</span></span><span> N</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>

  </span><a class="entity_ref" href="Bucket_Hash.html#offset_3334..3347"><span>insert_bucket</span></a><span> </span><span class="main"><span>(</span></span><span>tabl_addr</span><span class="main"><span>[</span></span><span>hash</span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span> k</span><span class="main"><span>,</span></span><span> v</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>

  𝗆𝖺𝗄𝖾𝗌 </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>f</span></span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span> </span><span class="main"><span>↦</span></span><span> </span><span class="free"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="Bucket_Hash.html#Bucket_Hash.Hash|const"><span>Hash</span></a><span> </span><span class="free"><span>addr</span></span><span> </span><span class="free"><span>TY</span></span><span> </span><span class="free"><span>T</span></span><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>certified</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.auto|method"><span class="operator"><span>auto</span></span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../Phi_System/USER_HOME/Current/phi-system/Phi_System/library/tools/sledgehammer_solver.ML.html#IDE_CP_Core.auto_sledgehammer|method"><span class="operator"><span>auto_sledgehammer</span></span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../Phi_System/USER_HOME/Current/phi-system/Phi_System/library/tools/sledgehammer_solver.ML.html#IDE_CP_Core.auto_sledgehammer|method"><span class="operator"><span>auto_sledgehammer</span></span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../Phi_System/USER_HOME/Current/phi-system/Phi_System/library/tools/sledgehammer_solver.ML.html#IDE_CP_Core.auto_sledgehammer|method"><span class="operator"><span>auto_sledgehammer</span></span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span>
                </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../Phi_System/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> x</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>λ</span></span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Bucket_Hash.html#Bucket_Hash.hash|const"><span>hash</span></a><span> </span><span class="free"><span>k</span></span><span> </span><span class="var"><span>?N</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="skolem"><span>bucket'</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="skolem"><span>buckets</span></span><span> </span><span class="bound"><span>i</span></span><span>›</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span>
                    </span><span class="operator"><span>subgoal_tac</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>⋀</span></span><span class="bound"><span>k'</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>⟦</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>k'</span></span><span class="main"><span>,</span></span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="skolem"><span>bucket'</span></span><span> </span><span class="main"><span>;</span></span><span> </span><span class="bound"><span>k'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.not_equal|const"><span>≠</span></a></span><span> </span><span class="free"><span>k</span></span><span> </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>k'</span></span><span class="main"><span>,</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>buckets</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Bucket_Hash.html#Bucket_Hash.hash|const"><span>hash</span></a><span> </span><span class="free"><span>k</span></span><span> </span><span class="var"><span>?N</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span>
                    </span><span class="operator"><span>subgoal_tac</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>⋀</span></span><span class="bound"><span>k</span></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span class="main"><span>⟦</span></span><span> </span><span class="main"><span>(</span></span><span class="bound"><span>k</span></span><span class="main"><span>,</span></span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>buckets</span></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>;</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="var"><span>?N</span></span><span> </span><span class="main"><span>⟧</span></span><span> </span><span class="main"><span>⟹</span></span><span> </span><a class="entity_ref" href="Bucket_Hash.html#Bucket_Hash.hash|const"><span>hash</span></a><span> </span><span class="bound"><span>k</span></span><span> </span><span class="var"><span>?N</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="bound"><span>i</span></span><span>›</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span>
                </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/clasimp.ML.html#HOL.clarsimp|method"><span class="operator"><span>clarsimp</span></span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../Phi_System/USER_HOME/Current/phi-system/Phi_System/library/tools/sledgehammer_solver.ML.html#IDE_CP_Core.auto_sledgehammer|method"><span class="operator"><span>auto_sledgehammer</span></span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conjI|fact"><span>conjI</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../Phi_System/USER_HOME/Current/phi-system/Phi_System/library/tools/sledgehammer_solver.ML.html#IDE_CP_Core.auto_sledgehammer|method"><span class="operator"><span>auto_sledgehammer</span></span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span>
                </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../Phi_System/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> x</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>λ</span></span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>if</span></a></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="Bucket_Hash.html#Bucket_Hash.hash|const"><span>hash</span></a><span> </span><span class="free"><span>k</span></span><span> </span><span class="var"><span>?N</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>then</span></a></span><span> </span><span class="skolem"><span>bucket'</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.If|const"><span>else</span></a></span><span> </span><span class="skolem"><span>buckets</span></span><span> </span><span class="bound"><span>i</span></span><span>›</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span>
                </span><a class="entity_ref" href="../Phi_System/USER_HOME/Current/phi-system/Phi_System/library/tools/sledgehammer_solver.ML.html#IDE_CP_Core.auto_sledgehammer|method"><span class="operator"><span>auto_sledgehammer</span></span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../Phi_System/USER_HOME/Current/phi-system/Phi_System/library/tools/sledgehammer_solver.ML.html#IDE_CP_Core.auto_sledgehammer|method"><span class="operator"><span>auto_sledgehammer</span></span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../Phi_System/USER_HOME/Current/phi-system/Phi_System/library/tools/sledgehammer_solver.ML.html#IDE_CP_Core.auto_sledgehammer|method"><span class="operator"><span>auto_sledgehammer</span></span></a><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>❵</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>proc</span></span></span><span> </span><span class="entity_def" id="Bucket_Hash.bucket_has_key_\&lt;phi&gt;app|fact"><span class="entity_def" id="Bucket_Hash.bucket_has_key_def|fact"><span class="entity_def" id="Bucket_Hash.bucket_has_key_\&lt;phi&gt;app|thm"><span class="entity_def" id="Bucket_Hash.bucket_has_key_def|thm"><span class="entity_def" id="Bucket_Hash.bucket_has_key_def|axiom"><span class="entity_def" id="Bucket_Hash.bucket_has_key|const"><span class="entity_def" id="offset_5428..5442">bucket_has_key</span></span></span></span></span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>input</span></span></span><span>  </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>addr</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_Pointer.html#PhiSem_Mem_Pointer.Ptr|const"><span>ℙ𝗍𝗋</span></a></span><span> </span><a class="entity_ref" href="Dynamic_Array_arbi_len.html#Dynamic_Array_arbi_len.\&lt;d&gt;\&lt;y&gt;\&lt;n&gt;\&lt;a&gt;\&lt;r&gt;\&lt;r&gt;|const"><span>𝖽𝗒𝗇𝖺𝗋𝗋</span></a><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><span class="main"><span>ℕ(</span></span><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_Pointer.html#PhiSem_Mem_Pointer.\&lt;s&gt;\&lt;i&gt;\&lt;z&gt;\&lt;e&gt;_\&lt;t&gt;|type"><span>𝗌𝗂𝗓𝖾_𝗍</span></a><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span>
          </span><span class="free"><span>bucket</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="Dynamic_Array_arbi_len.html#Dynamic_Array_arbi_len.DynArr|const"><span>DynArr</span></a><span> </span><span class="free"><span>addr</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Bucket_Hash.html#Bucket_Hash.\&lt;k&gt;\&lt;v&gt;_\&lt;e&gt;\&lt;n&gt;\&lt;t&gt;\&lt;r&gt;\&lt;y&gt;|const"><span>𝗄𝗏_𝖾𝗇𝗍𝗋𝗒</span></a><span> </span><span class="free"><span>TY</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⦃</span></span><span> k</span><span class="main"><span>:</span></span><span> </span><span class="main"><span>ℕ(</span></span><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_Pointer.html#PhiSem_Mem_Pointer.\&lt;s&gt;\&lt;i&gt;\&lt;z&gt;\&lt;e&gt;_\&lt;t&gt;|type"><span>𝗌𝗂𝗓𝖾_𝗍</span></a><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> v</span><span class="main"><span>:</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><span>⦄</span></span><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>output</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>v</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span class="main"><span>,</span></span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="free"><span>bucket</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Generic_Boolean.html#PhiSem_Generic_Boolean.\&lt;phi&gt;Bool|const"><span>𝔹</span></a></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span>
          </span><span class="free"><span>bucket</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="Dynamic_Array_arbi_len.html#Dynamic_Array_arbi_len.DynArr|const"><span>DynArr</span></a><span> </span><span class="free"><span>addr</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Bucket_Hash.html#Bucket_Hash.\&lt;k&gt;\&lt;v&gt;_\&lt;e&gt;\&lt;n&gt;\&lt;t&gt;\&lt;r&gt;\&lt;y&gt;|const"><span>𝗄𝗏_𝖾𝗇𝗍𝗋𝗒</span></a><span> </span><span class="free"><span>TY</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⦃</span></span><span> k</span><span class="main"><span>:</span></span><span> </span><span class="main"><span>ℕ(</span></span><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_Pointer.html#PhiSem_Mem_Pointer.\&lt;s&gt;\&lt;i&gt;\&lt;z&gt;\&lt;e&gt;_\&lt;t&gt;|type"><span>𝗌𝗂𝗓𝖾_𝗍</span></a><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> v</span><span class="main"><span>:</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><span>⦄</span></span><span>›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>❴</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>var</span></span></span><span> </span><span class="skolem"><span>met</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="../Phi_Semantics/PhiSem_Generic_Boolean.html#PhiSem_Generic_Boolean.False_\&lt;phi&gt;app|fact"><span>False</span></a><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
  </span><a class="entity_ref" href="../PhiStd/PhiStd_Loop_a.html#PhiStd_Loop_a.iterate_a_\&lt;phi&gt;app|fact"><span>iterate_a</span></a><span> </span><span class="main"><span>(</span></span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Int_ArbiPrec.html#PhiSem_Int_ArbiPrec.\&lt;phi&gt;ANat|const"><span>ℕ</span></a></span><span>›</span></span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Dynamic_Array_arbi_len.html#Dynamic_Array_arbi_len.len_dynarr_\&lt;phi&gt;app|fact"><span>len_dynarr</span></a><span class="main"><span>(</span></span><span>addr</span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
             </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>λ</span></span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>v</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span class="main"><span>,</span></span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.take|const"><span>take</span></a><span> </span><span class="bound"><span>i</span></span><span> </span><span class="free"><span>bucket</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗋[</span></span><span>met</span><span class="main"><span>]</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Generic_Boolean.html#PhiSem_Generic_Boolean.\&lt;phi&gt;Bool|const"><span>𝔹</span></a></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span> </span><span class="main"><span>→</span></span><span> </span><span class="keyword2"><span class="keyword"><span>val</span></span></span><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
    met </span><span class="main"><span>←</span></span><span> met </span><a class="entity_ref" href="../Phi_Semantics/PhiSem_Generic_Boolean.html#PhiSem_Generic_Boolean.\&lt;or&gt;_\&lt;phi&gt;app|fact"><span class="dynamic"><span class="dynamic"><span>∨</span></span></span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Dynamic_Array_arbi_len.html#Dynamic_Array_arbi_len.get_dynarr_\&lt;phi&gt;app|fact"><span>get_dynarr</span></a><span class="main"><span>(</span></span><span>addr</span><span class="main"><span>,</span></span><span> i</span><span class="main"><span>).</span></span><span>k </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Generic_Boolean.html#PhiSem_Generic_Boolean.=_\&lt;phi&gt;app|fact"><span class="dynamic"><span class="dynamic"><span>=</span></span></span></a></span><span> k</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>❵</span></span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
  met
</span><span class="keyword1"><span class="command"><span>❵</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>proc</span></span></span><span> </span><span class="entity_def" id="Bucket_Hash.hash_has_key_\&lt;phi&gt;app|fact"><span class="entity_def" id="Bucket_Hash.hash_has_key_def|fact"><span class="entity_def" id="Bucket_Hash.hash_has_key_\&lt;phi&gt;app|thm"><span class="entity_def" id="Bucket_Hash.hash_has_key_def|thm"><span class="entity_def" id="Bucket_Hash.hash_has_key_def|axiom"><span class="entity_def" id="Bucket_Hash.hash_has_key|const"><span class="entity_def" id="offset_5886..5898">hash_has_key</span></span></span></span></span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>input</span></span></span><span>  </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>addr</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_Pointer.html#PhiSem_Mem_Pointer.Ptr|const"><span>ℙ𝗍𝗋</span></a></span><span> </span><a class="entity_ref" href="Bucket_Hash.html#Bucket_Hash.\&lt;h&gt;\&lt;a&gt;\&lt;s&gt;\&lt;h&gt;|const"><span>𝗁𝖺𝗌𝗁</span></a><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><span class="main"><span>ℕ(</span></span><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_Pointer.html#PhiSem_Mem_Pointer.\&lt;s&gt;\&lt;i&gt;\&lt;z&gt;\&lt;e&gt;_\&lt;t&gt;|type"><span>𝗌𝗂𝗓𝖾_𝗍</span></a><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="Bucket_Hash.html#Bucket_Hash.Hash|const"><span>Hash</span></a><span> </span><span class="free"><span>addr</span></span><span> </span><span class="free"><span>TY</span></span><span> </span><span class="free"><span>T</span></span><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>output</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom|const"><span>dom</span></a><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Generic_Boolean.html#PhiSem_Generic_Boolean.\&lt;phi&gt;Bool|const"><span>𝔹</span></a></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="Bucket_Hash.html#Bucket_Hash.Hash|const"><span>Hash</span></a><span> </span><span class="free"><span>addr</span></span><span> </span><span class="free"><span>TY</span></span><span> </span><span class="free"><span>T</span></span><span>›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>❴</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../Phi_System/IDE_CP_Core.html#IDE_CP_Core.\&lt;phi&gt;sledgehammer_simps|attribute"><span class="operator"><span>φsledgehammer_simps</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list_all2_conv_all_nth|fact"><span>list_all2_conv_all_nth</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list_all_length|fact"><span>list_all_length</span></a><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>

  </span><a class="entity_ref" href="../Phi_System/IDE_CP_Applications1.html#IDE_CP_Applications1.\&lt;t&gt;\&lt;r&gt;\&lt;a&gt;\&lt;n&gt;\&lt;s&gt;\&lt;f&gt;\&lt;o&gt;\&lt;r&gt;\&lt;m&gt;\&lt;s&gt;_\&lt;t&gt;\&lt;o&gt;_\&lt;phi&gt;app|fact"><span>𝗍𝗋𝖺𝗇𝗌𝖿𝗈𝗋𝗆𝗌_𝗍𝗈</span></a><span> </span><span class="quoted"><span class="keyword1"><span>𝗈𝗉𝖾𝗇</span></span></span><span> </span><span class="main"><span>∃</span></span><span class="skolem"><span>bucket_ptrs</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>base</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>buckets</span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>val</span></span></span><span> </span><span class="skolem"><span>tabl_addr</span></span><span> </span><span class="main"><span>←</span></span><span> addr.tabl </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>val</span></span></span><span> </span><span class="skolem"><span>N</span></span><span> </span><span class="main"><span>←</span></span><span> addr.N </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>val</span></span></span><span> </span><span class="skolem"><span>hash</span></span><span> </span><span class="main"><span>←</span></span><span> k </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Common_Int.html#PhiSem_Common_Int.%_\&lt;phi&gt;app|fact"><span class="dynamic"><span class="dynamic"><span>%</span></span></span></a></span><span> N </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>val</span></span></span><span> </span><span class="skolem"><span>ret</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="Bucket_Hash.html#offset_5428..5442"><span>bucket_has_key</span></a><span> </span><span class="main"><span>(</span></span><span>tabl_addr</span><span class="main"><span>[</span></span><span>hash</span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span> k</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>

  𝗆𝖺𝗄𝖾𝗌 </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="Bucket_Hash.html#Bucket_Hash.Hash|const"><span>Hash</span></a><span> </span><span class="free"><span>addr</span></span><span> </span><span class="free"><span>TY</span></span><span> </span><span class="free"><span>T</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>

  ret
</span><span class="keyword1"><span class="command"><span>❵</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>



</span><span class="keyword1"><span class="command"><span>proc</span></span></span><span> </span><span class="entity_def" id="Bucket_Hash.lookup_bucket_\&lt;phi&gt;app|fact"><span class="entity_def" id="Bucket_Hash.lookup_bucket_def|fact"><span class="entity_def" id="Bucket_Hash.lookup_bucket_\&lt;phi&gt;app|thm"><span class="entity_def" id="Bucket_Hash.lookup_bucket_def|thm"><span class="entity_def" id="Bucket_Hash.lookup_bucket_def|axiom"><span class="entity_def" id="Bucket_Hash.lookup_bucket|const"><span class="entity_def" id="offset_6316..6329">lookup_bucket</span></span></span></span></span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>input</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>addr</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_Pointer.html#PhiSem_Mem_Pointer.Ptr|const"><span>ℙ𝗍𝗋</span></a></span><span> </span><a class="entity_ref" href="Dynamic_Array_arbi_len.html#Dynamic_Array_arbi_len.\&lt;d&gt;\&lt;y&gt;\&lt;n&gt;\&lt;a&gt;\&lt;r&gt;\&lt;r&gt;|const"><span>𝖽𝗒𝗇𝖺𝗋𝗋</span></a><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><span class="main"><span>ℕ(</span></span><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_Pointer.html#PhiSem_Mem_Pointer.\&lt;s&gt;\&lt;i&gt;\&lt;z&gt;\&lt;e&gt;_\&lt;t&gt;|type"><span>𝗌𝗂𝗓𝖾_𝗍</span></a><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span>
         </span><span class="free"><span>bucket</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="Dynamic_Array_arbi_len.html#Dynamic_Array_arbi_len.DynArr|const"><span>DynArr</span></a><span> </span><span class="free"><span>addr</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Bucket_Hash.html#Bucket_Hash.\&lt;k&gt;\&lt;v&gt;_\&lt;e&gt;\&lt;n&gt;\&lt;t&gt;\&lt;r&gt;\&lt;y&gt;|const"><span>𝗄𝗏_𝖾𝗇𝗍𝗋𝗒</span></a><span> </span><span class="free"><span>TY</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⦃</span></span><span> k</span><span class="main"><span>:</span></span><span> </span><span class="main"><span>ℕ(</span></span><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_Pointer.html#PhiSem_Mem_Pointer.\&lt;s&gt;\&lt;i&gt;\&lt;z&gt;\&lt;e&gt;_\&lt;t&gt;|type"><span>𝗌𝗂𝗓𝖾_𝗍</span></a><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> v</span><span class="main"><span>:</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><span>⦄</span></span><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>premises</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>v</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span class="main"><span>,</span></span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="free"><span>bucket</span></span><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>output</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="bound"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><span class="free"><span>T</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span>
          </span><span class="free"><span>bucket</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="Dynamic_Array_arbi_len.html#Dynamic_Array_arbi_len.DynArr|const"><span>DynArr</span></a><span> </span><span class="free"><span>addr</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Bucket_Hash.html#Bucket_Hash.\&lt;k&gt;\&lt;v&gt;_\&lt;e&gt;\&lt;n&gt;\&lt;t&gt;\&lt;r&gt;\&lt;y&gt;|const"><span>𝗄𝗏_𝖾𝗇𝗍𝗋𝗒</span></a><span> </span><span class="free"><span>TY</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⦃</span></span><span> k</span><span class="main"><span>:</span></span><span> </span><span class="main"><span>ℕ(</span></span><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_Pointer.html#PhiSem_Mem_Pointer.\&lt;s&gt;\&lt;i&gt;\&lt;z&gt;\&lt;e&gt;_\&lt;t&gt;|type"><span>𝗌𝗂𝗓𝖾_𝗍</span></a><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> v</span><span class="main"><span>:</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><span>⦄</span></span><span>
          </span><span class="keyword1"><span>𝗌𝗎𝖻𝗃</span></span><span> </span><span class="bound"><span>v</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span class="main"><span>,</span></span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="free"><span>bucket</span></span><span>›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>❴</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>var</span></span></span><span> </span><span class="skolem"><span>ret</span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
  </span><a class="entity_ref" href="../PhiStd/PhiStd_Loop_a.html#PhiStd_Loop_a.iterate_a_\&lt;phi&gt;app|fact"><span>iterate_a</span></a><span> </span><span class="main"><span>(</span></span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Int_ArbiPrec.html#PhiSem_Int_ArbiPrec.\&lt;phi&gt;ANat|const"><span>ℕ</span></a></span><span>›</span></span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Dynamic_Array_arbi_len.html#Dynamic_Array_arbi_len.len_dynarr_\&lt;phi&gt;app|fact"><span>len_dynarr</span></a><span> </span><span class="main"><span>(</span></span><span>addr</span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
              </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>λ</span></span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗆𝖺𝗒</span></span><span> </span><span class="keyword1"><span>𝗂𝗇𝗂𝗍𝖾𝖽</span></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗋[</span></span><span>ret</span><span class="main"><span>]</span></span><span> </span><span class="free"><span>T</span></span><span>
                   </span><span class="keyword1"><span>𝗌𝗎𝖻𝗃</span></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="bound"><span>v'</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>∃</span></a></span><span class="bound"><span>v</span></span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.Ex|const"><span>.</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span class="main"><span>,</span></span><span class="bound"><span>v</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.take|const"><span>take</span></a><span> </span><span class="bound"><span>i</span></span><span> </span><span class="free"><span>bucket</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.implies|const"><span>⟶</span></a></span><span> </span><span class="bound"><span>v</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.Some|const"><span>Some</span></a><span> </span><span class="bound"><span>v'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="main"><span>(</span></span><span class="free"><span>k</span></span><span class="main"><span>,</span></span><span class="bound"><span>v'</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.take|const"><span>take</span></a><span> </span><span class="bound"><span>i</span></span><span> </span><span class="free"><span>bucket</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span> </span><span class="main"><span>→</span></span><span> </span><span class="keyword2"><span class="keyword"><span>val</span></span></span><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>val</span></span></span><span> </span><span class="skolem"><span>entry</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="Dynamic_Array_arbi_len.html#Dynamic_Array_arbi_len.get_dynarr_\&lt;phi&gt;app|fact"><span>get_dynarr</span></a><span class="main"><span>(</span></span><span>addr</span><span class="main"><span>,</span></span><span> i</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../Phi_Semantics/PhiSem_CF_Basic.html#PhiSem_CF_Basic.if_\&lt;phi&gt;app|fact"><span>if</span></a></span></span><span> </span><span class="main"><span>(</span></span><span>entry.k </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Generic_Boolean.html#PhiSem_Generic_Boolean.=_\&lt;phi&gt;app|fact"><span class="dynamic"><span class="dynamic"><span>=</span></span></span></a></span><span> k</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span> 
      ret </span><span class="main"><span>←</span></span><span> entry.v
    </span><span class="keyword1"><span class="command"><span>❵</span></span></span><span> </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span> </span><span class="keyword1"><span class="command"><span>❵</span></span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>❵</span></span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
  ret
</span><span class="keyword1"><span class="command"><span>❵</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>proc</span></span></span><span> </span><span class="entity_def" id="Bucket_Hash.hash_lookup_\&lt;phi&gt;app|fact"><span class="entity_def" id="Bucket_Hash.hash_lookup_def|fact"><span class="entity_def" id="Bucket_Hash.hash_lookup_\&lt;phi&gt;app|thm"><span class="entity_def" id="Bucket_Hash.hash_lookup_def|thm"><span class="entity_def" id="Bucket_Hash.hash_lookup_def|axiom"><span class="entity_def" id="Bucket_Hash.hash_lookup|const"><span class="entity_def" id="offset_6954..6965">hash_lookup</span></span></span></span></span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>input</span></span></span><span>  </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>addr</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_Pointer.html#PhiSem_Mem_Pointer.Ptr|const"><span>ℙ𝗍𝗋</span></a></span><span> </span><a class="entity_ref" href="Bucket_Hash.html#Bucket_Hash.\&lt;h&gt;\&lt;a&gt;\&lt;s&gt;\&lt;h&gt;|const"><span>𝗁𝖺𝗌𝗁</span></a><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><span class="main"><span>ℕ(</span></span><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_Pointer.html#PhiSem_Mem_Pointer.\&lt;s&gt;\&lt;i&gt;\&lt;z&gt;\&lt;e&gt;_\&lt;t&gt;|type"><span>𝗌𝗂𝗓𝖾_𝗍</span></a><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="Bucket_Hash.html#Bucket_Hash.Hash|const"><span>Hash</span></a><span> </span><span class="free"><span>addr</span></span><span> </span><span class="free"><span>TY</span></span><span> </span><span class="free"><span>T</span></span><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>premises</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>k</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Set.html#Set.member|const"><span>∈</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.dom|const"><span>dom</span></a><span> </span><span class="free"><span>f</span></span><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>output</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="../../HOL/HOL/Option.html#Option.option.the|const"><span>the</span></a><span> </span><span class="main"><span>(</span></span><span class="free"><span>f</span></span><span> </span><span class="free"><span>k</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><span class="free"><span>T</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="Bucket_Hash.html#Bucket_Hash.Hash|const"><span>Hash</span></a><span> </span><span class="free"><span>addr</span></span><span> </span><span class="free"><span>TY</span></span><span> </span><span class="free"><span>T</span></span><span>›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>❴</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../Phi_System/IDE_CP_Core.html#IDE_CP_Core.\&lt;phi&gt;sledgehammer_simps|attribute"><span class="operator"><span>φsledgehammer_simps</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list_all2_conv_all_nth|fact"><span>list_all2_conv_all_nth</span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list_all_length|fact"><span>list_all_length</span></a><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>

  </span><a class="entity_ref" href="../Phi_System/IDE_CP_Applications1.html#IDE_CP_Applications1.\&lt;t&gt;\&lt;r&gt;\&lt;a&gt;\&lt;n&gt;\&lt;s&gt;\&lt;f&gt;\&lt;o&gt;\&lt;r&gt;\&lt;m&gt;\&lt;s&gt;_\&lt;t&gt;\&lt;o&gt;_\&lt;phi&gt;app|fact"><span>𝗍𝗋𝖺𝗇𝗌𝖿𝗈𝗋𝗆𝗌_𝗍𝗈</span></a><span> </span><span class="quoted"><span class="keyword1"><span>𝗈𝗉𝖾𝗇</span></span></span><span> </span><span class="main"><span>∃</span></span><span class="skolem"><span>bucket_ptrs</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>base</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>buckets</span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>

  </span><span class="keyword2"><span class="keyword"><span>val</span></span></span><span> </span><span class="skolem"><span>tabl_addr</span></span><span> </span><span class="main"><span>←</span></span><span> addr.tabl </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>val</span></span></span><span> </span><span class="skolem"><span>N</span></span><span> </span><span class="main"><span>←</span></span><span> addr.N </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>val</span></span></span><span> </span><span class="skolem"><span>hash</span></span><span> </span><span class="main"><span>←</span></span><span> k </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Common_Int.html#PhiSem_Common_Int.%_\&lt;phi&gt;app|fact"><span class="dynamic"><span class="dynamic"><span>%</span></span></span></a></span><span> N </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>val</span></span></span><span> </span><span class="skolem"><span>ret</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="Bucket_Hash.html#offset_6316..6329"><span>lookup_bucket</span></a><span> </span><span class="main"><span>(</span></span><span>tabl_addr</span><span class="main"><span>[</span></span><span>hash</span><span class="main"><span>]</span></span><span class="main"><span>,</span></span><span> k</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>

  𝗆𝖺𝗄𝖾𝗌 </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="Bucket_Hash.html#Bucket_Hash.Hash|const"><span>Hash</span></a><span> </span><span class="free"><span>addr</span></span><span> </span><span class="free"><span>TY</span></span><span> </span><span class="free"><span>T</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>

  ret
</span><span class="keyword1"><span class="command"><span>❵</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>proc</span></span></span><span> </span><span class="entity_def" id="Bucket_Hash.new_hash_\&lt;phi&gt;app|fact"><span class="entity_def" id="Bucket_Hash.new_hash_def|fact"><span class="entity_def" id="Bucket_Hash.new_hash_\&lt;phi&gt;app|thm"><span class="entity_def" id="Bucket_Hash.new_hash_def|thm"><span class="entity_def" id="Bucket_Hash.new_hash_def|axiom"><span class="entity_def" id="Bucket_Hash.new_hash|const"><span class="entity_def" id="offset_7405..7413">new_hash</span></span></span></span></span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>input</span></span></span><span>  </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>N</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><span class="main"><span>ℕ(</span></span><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_Pointer.html#PhiSem_Mem_Pointer.\&lt;s&gt;\&lt;i&gt;\&lt;z&gt;\&lt;e&gt;_\&lt;t&gt;|type"><span>𝗌𝗂𝗓𝖾_𝗍</span></a><span class="main"><span>)</span></span><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>premises</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="free"><span>N</span></span><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>output</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="bound"><span>addr</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_Pointer.html#PhiSem_Mem_Pointer.Ptr|const"><span>ℙ𝗍𝗋</span></a></span><span> </span><a class="entity_ref" href="Bucket_Hash.html#Bucket_Hash.\&lt;h&gt;\&lt;a&gt;\&lt;s&gt;\&lt;h&gt;|const"><span>𝗁𝖺𝗌𝗁</span></a><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.empty|const"><span>Map.empty</span></a><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="Bucket_Hash.html#Bucket_Hash.Hash|const"><span>Hash</span></a><span> </span><span class="bound"><span>addr</span></span><span> </span><span class="free"><span>TY</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="keyword1"><span>𝗌𝗎𝖻𝗃</span></span><span> </span><span class="bound"><span>addr</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.top_class.top|const"><span>⊤</span></a></span><span>›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>❴</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>val</span></span></span><span> </span><span class="skolem"><span>tabl_addr</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="Phi_Semantics.PhiSem_Mem_C_MI.html#PhiSem_Mem_C_MI.calloc_\&lt;phi&gt;app|fact"><span>calloc</span></a><span> </span><span class="main"><span>(</span></span><span>N</span><span class="main"><span>)</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="keyword1"><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_Pointer.html#PhiSem_Mem_Pointer.Ptr|const"><span>ℙ𝗍𝗋</span></a></span><span> </span><a class="entity_ref" href="Dynamic_Array_arbi_len.html#Dynamic_Array_arbi_len.\&lt;d&gt;\&lt;y&gt;\&lt;n&gt;\&lt;a&gt;\&lt;r&gt;\&lt;r&gt;|const"><span>𝖽𝗒𝗇𝖺𝗋𝗋</span></a><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
  </span><a class="entity_ref" href="../PhiStd/PhiStd_Loop.html#PhiStd_Loop.iterate_\&lt;phi&gt;app|fact"><span>iterate</span></a><span> </span><span class="main"><span>(</span></span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="main"><span>ℕ(</span></span><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_Pointer.html#PhiSem_Mem_Pointer.\&lt;s&gt;\&lt;i&gt;\&lt;z&gt;\&lt;e&gt;_\&lt;t&gt;|type"><span>𝗌𝗂𝗓𝖾_𝗍</span></a><span class="main"><span>)</span></span><span>›</span></span></span><span class="main"><span>,</span></span><span> N</span><span class="main"><span>)</span></span><span>
           </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>λ</span></span><span class="bound"><span>M</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>bucket_ptrs</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_C.html#PhiSem_Mem_C.Mem_synt|const"><span>𝗆𝖾𝗆[</span></a></span><span class="skolem"><span>addr</span></span><span class="main"><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_C.html#PhiSem_Mem_C.Mem_synt|const"><span>]</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Aggregate_Array.html#PhiSem_Aggregate_Array.Array|const"><span>𝔸𝗋𝗋𝖺𝗒[</span></a></span><span class="free"><span>N</span></span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Aggregate_Array.html#PhiSem_Aggregate_Array.Array|const"><span>]</span></a></span><span> </span><span class="main"><span>(</span></span><span class="keyword1"><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_Pointer.html#PhiSem_Mem_Pointer.Ptr|const"><span>ℙ𝗍𝗋</span></a></span><span> </span><a class="entity_ref" href="Dynamic_Array_arbi_len.html#Dynamic_Array_arbi_len.\&lt;d&gt;\&lt;y&gt;\&lt;n&gt;\&lt;a&gt;\&lt;r&gt;\&lt;r&gt;|const"><span>𝖽𝗒𝗇𝖺𝗋𝗋</span></a><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span>
                </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.Nil|const"><span>[]</span></a></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Phi_Types.html#Phi_Types.\&lt;phi&gt;Mul_Quant\&lt;^sub&gt;\&lt;Lambda&gt;|const"><span>✱<span class="hidden">⇧</span><sup>φ</sup></span></a></span><span> </span><span class="main"><span>{</span></span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="bound"><span>M</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Dynamic_Array_arbi_len.html#Dynamic_Array_arbi_len.DynArr|const"><span>DynArr</span></a><span> </span><span class="main"><span>(</span></span><span class="bound"><span>bucket_ptrs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.nth|const"><span>!</span></a></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Bucket_Hash.html#Bucket_Hash.\&lt;k&gt;\&lt;v&gt;_\&lt;e&gt;\&lt;n&gt;\&lt;t&gt;\&lt;r&gt;\&lt;y&gt;|const"><span>𝗄𝗏_𝖾𝗇𝗍𝗋𝗒</span></a><span> </span><span class="free"><span>TY</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⦃</span></span><span>k</span><span class="main"><span>:</span></span><span> </span><span class="main"><span>ℕ(</span></span><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_Pointer.html#PhiSem_Mem_Pointer.\&lt;s&gt;\&lt;i&gt;\&lt;z&gt;\&lt;e&gt;_\&lt;t&gt;|type"><span>𝗌𝗂𝗓𝖾_𝗍</span></a><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> v</span><span class="main"><span>:</span></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>⦄</span></span><span class="main"><span>)</span></span><span>
                </span><span class="keyword1"><span>𝗌𝗎𝖻𝗃</span></span><span> </span><span class="bound"><span>bucket_ptrs</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.top_class.top|const"><span>⊤</span></a></span><span> ›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span> </span><span class="main"><span>→</span></span><span> </span><span class="keyword2"><span class="keyword"><span>val</span></span></span><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>val</span></span></span><span> </span><span class="skolem"><span>dynarr</span></span><span> </span><span class="main"><span>←</span></span><span> </span><span class="keyword2"><span class="keyword"><span>apply_rule</span></span></span><span> </span><a class="entity_ref" href="Dynamic_Array_arbi_len.html#Dynamic_Array_arbi_len.new_dynarr_\&lt;phi&gt;app|fact"><span>new_dynarr</span></a><span class="main"><span>[</span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../Phi_System/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> T</span><span class="main"><span class="main"><span>=</span></span></span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>⦃</span></span><span> k</span><span class="main"><span>:</span></span><span> </span><span class="main"><span>ℕ(</span></span><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_Pointer.html#PhiSem_Mem_Pointer.\&lt;s&gt;\&lt;i&gt;\&lt;z&gt;\&lt;e&gt;_\&lt;t&gt;|type"><span>𝗌𝗂𝗓𝖾_𝗍</span></a><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> v</span><span class="main"><span>:</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><span>⦄</span></span><span>›</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
    tabl_addr</span><span class="main"><span>[</span></span><span>i</span><span class="main"><span>]</span></span><span> </span><span class="main"><span>:=</span></span><span> dynarr </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>

    </span><span class="keyword3"><span class="command"><span class="entity_def" id="offset_7944..7950">define</span></span></span><span> </span><span class="skolem"><span class="skolem"><span>bucket_ptrs'</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>where</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>bucket_ptrs'</span></span><span> </span><span class="main"><span>≡</span></span><span> </span><a class="entity_ref" href="../Phi_System/Phi_Aug.html#Phi_Aug.list_upd_map|const"><span>list_upd_map</span></a><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../Phi_System/Phi_Aug.html#Phi_Aug.comb.K|const"><span>comb.K</span></a><span> </span><span class="skolem"><span>addra</span></span><span class="main"><span>)</span></span><span> </span><span class="skolem"><span>bucket_ptrs</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
    fold </span><a class="entity_ref" href="Bucket_Hash.html#offset_7944..7950"><span>bucket_ptrs'_def</span></a><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>holds_fact</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>addra</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="skolem"><span>bucket_ptrs'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.nth|const"><span>!</span></a></span><span> </span><span class="skolem"><span>i</span></span><span>›</span></span></span><span>
    </span><span class="keyword1"><span class="command"><span>have</span></span></span><span> </span><span class="main"><span>[</span></span><span class="operator"><span>simp</span></span><span class="main"><span>]</span></span><span class="main"><span>:</span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Phi_Types.html#Phi_Types.\&lt;phi&gt;Mul_Quant\&lt;^sub&gt;\&lt;Lambda&gt;|const"><span>✱<span class="hidden">⇧</span><sup>φ</sup></span></a></span><span> </span><span class="main"><span>{</span></span><span class="bound"><span>ia</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>ia</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="skolem"><span>i</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Dynamic_Array_arbi_len.html#Dynamic_Array_arbi_len.DynArr|const"><span>DynArr</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>bucket_ptrs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.nth|const"><span>!</span></a></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Bucket_Hash.html#Bucket_Hash.\&lt;k&gt;\&lt;v&gt;_\&lt;e&gt;\&lt;n&gt;\&lt;t&gt;\&lt;r&gt;\&lt;y&gt;|const"><span>𝗄𝗏_𝖾𝗇𝗍𝗋𝗒</span></a><span> </span><span class="free"><span>TY</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⦃</span></span><span> k</span><span class="main"><span>:</span></span><span> </span><span class="main"><span>ℕ(</span></span><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_Pointer.html#PhiSem_Mem_Pointer.\&lt;s&gt;\&lt;i&gt;\&lt;z&gt;\&lt;e&gt;_\&lt;t&gt;|type"><span>𝗌𝗂𝗓𝖾_𝗍</span></a><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> v</span><span class="main"><span>:</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><span>⦄</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span>
                  </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Phi_Types.html#Phi_Types.\&lt;phi&gt;Mul_Quant\&lt;^sub&gt;\&lt;Lambda&gt;|const"><span>✱<span class="hidden">⇧</span><sup>φ</sup></span></a></span><span> </span><span class="main"><span>{</span></span><span class="bound"><span>ia</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>ia</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="skolem"><span>i</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Dynamic_Array_arbi_len.html#Dynamic_Array_arbi_len.DynArr|const"><span>DynArr</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>bucket_ptrs'</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.nth|const"><span>!</span></a></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Bucket_Hash.html#Bucket_Hash.\&lt;k&gt;\&lt;v&gt;_\&lt;e&gt;\&lt;n&gt;\&lt;t&gt;\&lt;r&gt;\&lt;y&gt;|const"><span>𝗄𝗏_𝖾𝗇𝗍𝗋𝗒</span></a><span> </span><span class="free"><span>TY</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⦃</span></span><span> k</span><span class="main"><span>:</span></span><span> </span><span class="main"><span>ℕ(</span></span><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_Pointer.html#PhiSem_Mem_Pointer.\&lt;s&gt;\&lt;i&gt;\&lt;z&gt;\&lt;e&gt;_\&lt;t&gt;|type"><span>𝗌𝗂𝗓𝖾_𝗍</span></a><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> v</span><span class="main"><span>:</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><span>⦄</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
      </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../Phi_System/Phi_Types.html#Phi_Types.\&lt;phi&gt;Mul_Quant\&lt;^sub&gt;\&lt;Lambda&gt;_cong|fact"><span>φMul_Quant<span class="hidden">⇩</span><sub>Λ</sub>_cong</span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../Phi_System/USER_HOME/Current/phi-system/Phi_System/library/tools/sledgehammer_solver.ML.html#IDE_CP_Core.auto_sledgehammer|method"><span class="operator"><span>auto_sledgehammer</span></span></a><span class="main"><span>)</span></span><span class="keyword1"><span class="command"><span>；</span></span></span><span>

  </span><span class="keyword1"><span class="command"><span>❵</span></span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
  
  </span><span class="keyword2"><span class="keyword"><span>val</span></span></span><span> </span><span class="skolem"><span>ret</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_C.html#PhiSem_Mem_C.calloc1_\&lt;phi&gt;app|fact"><span>calloc1</span></a><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>⦃</span></span><span> tabl</span><span class="main"><span>:</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_Pointer.html#PhiSem_Mem_Pointer.Ptr|const"><span>ℙ𝗍𝗋</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Aggregate_Array.html#PhiSem_Aggregate_Array.mk_array_T|const"><span>𝖺𝗋𝗋𝖺𝗒[</span></a></span><span class="free"><span>N</span></span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Aggregate_Array.html#PhiSem_Aggregate_Array.mk_array_T|const"><span>]</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_Pointer.html#PhiSem_Mem_Pointer.\&lt;p&gt;\&lt;o&gt;\&lt;i&gt;\&lt;n&gt;\&lt;t&gt;\&lt;e&gt;\&lt;r&gt;|const"><span>𝗉𝗍𝗋</span></a></span><span class="main"><span>,</span></span><span> N</span><span class="main"><span>:</span></span><span> </span><span class="main"><span>ℕ(</span></span><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_Pointer.html#PhiSem_Mem_Pointer.\&lt;s&gt;\&lt;i&gt;\&lt;z&gt;\&lt;e&gt;_\&lt;t&gt;|type"><span>𝗌𝗂𝗓𝖾_𝗍</span></a><span class="main"><span>)</span></span><span> </span><span class="main"><span>⦄</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
  ret.N </span><span class="main"><span>:=</span></span><span> N </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
  ret.tabl </span><span class="main"><span>:=</span></span><span> tabl_addr </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
  𝗆𝖺𝗄𝖾𝗌 </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.empty|const"><span>Map.empty</span></a><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="Bucket_Hash.html#Bucket_Hash.Hash|const"><span>Hash</span></a><span> </span><span class="skolem"><span>addra</span></span><span> </span><span class="free"><span>TY</span></span><span> </span><span class="free"><span>T</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
  ret
</span><span class="keyword1"><span class="command"><span>❵</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>declare</span></span></span><span> </span><span class="main"><span>[</span></span><span class="main"><span>[</span></span><a class="entity_ref" href="../Phi_System/USER_HOME/Current/phi-system/Phi_Logic_Programming_Reasoner/library/reasoner.ML.html#PLPR.\&lt;phi&gt;trace_reasoning|attribute"><span class="operator"><span>φtrace_reasoning</span></span></a><span> </span><span class="main"><span class="main"><span>=</span></span></span><span> 0</span><span class="main"><span>]</span></span><span class="main"><span>]</span></span><span>

</span><span class="keyword1"><span class="command"><span>proc</span></span></span><span> </span><span class="entity_def" id="Bucket_Hash.del_hash_\&lt;phi&gt;app|fact"><span class="entity_def" id="Bucket_Hash.del_hash_def|fact"><span class="entity_def" id="Bucket_Hash.del_hash_\&lt;phi&gt;app|thm"><span class="entity_def" id="Bucket_Hash.del_hash_def|thm"><span class="entity_def" id="Bucket_Hash.del_hash_def|axiom"><span class="entity_def" id="Bucket_Hash.del_hash|const"><span class="entity_def" id="offset_8579..8587">del_hash</span></span></span></span></span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>input</span></span></span><span>  </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>addr</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_Pointer.html#PhiSem_Mem_Pointer.Ptr|const"><span>ℙ𝗍𝗋</span></a></span><span> </span><a class="entity_ref" href="Bucket_Hash.html#Bucket_Hash.\&lt;h&gt;\&lt;a&gt;\&lt;s&gt;\&lt;h&gt;|const"><span>𝗁𝖺𝗌𝗁</span></a><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="Bucket_Hash.html#Bucket_Hash.Hash|const"><span>Hash</span></a><span> </span><span class="free"><span>addr</span></span><span> </span><span class="free"><span>TY</span></span><span> </span><span class="free"><span>T</span></span><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>output</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.Void|const"><span>Void</span></a><span>›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>❴</span></span></span><span>
  </span><a class="entity_ref" href="../Phi_System/IDE_CP_Applications1.html#IDE_CP_Applications1.\&lt;t&gt;\&lt;r&gt;\&lt;a&gt;\&lt;n&gt;\&lt;s&gt;\&lt;f&gt;\&lt;o&gt;\&lt;r&gt;\&lt;m&gt;\&lt;s&gt;_\&lt;t&gt;\&lt;o&gt;_\&lt;phi&gt;app|fact"><span>𝗍𝗋𝖺𝗇𝗌𝖿𝗈𝗋𝗆𝗌_𝗍𝗈</span></a><span> </span><span class="quoted"><span class="keyword1"><span>𝗈𝗉𝖾𝗇</span></span></span><span> </span><span class="main"><span>∃</span></span><span class="skolem"><span>bucket_ptrs</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>tabl</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>buckets</span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>val</span></span></span><span> </span><span class="skolem"><span>N</span></span><span> </span><span class="main"><span>←</span></span><span> </span><span class="main"><span>$</span></span><span>addr.N </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>val</span></span></span><span> </span><span class="skolem"><span>tabl</span></span><span> </span><span class="main"><span>←</span></span><span> </span><span class="main"><span>$</span></span><span>addr.tabl </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
  </span><a class="entity_ref" href="../PhiStd/PhiStd_Loop.html#PhiStd_Loop.iterate_\&lt;phi&gt;app|fact"><span>iterate</span></a><span> </span><span class="main"><span>(</span></span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="main"><span>ℕ(</span></span><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_Pointer.html#PhiSem_Mem_Pointer.\&lt;s&gt;\&lt;i&gt;\&lt;z&gt;\&lt;e&gt;_\&lt;t&gt;|type"><span>𝗌𝗂𝗓𝖾_𝗍</span></a><span class="main"><span>)</span></span><span>›</span></span></span><span class="main"><span>,</span></span><span> N</span><span class="main"><span>)</span></span><span>
           </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>λ</span></span><span class="bound"><span>M</span></span><span class="main"><span>.</span></span><span> </span><span class="skolem"><span>buckets</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><a class="entity_ref" href="../Phi_System/Phi_Types.html#Phi_Types.\&lt;phi&gt;Mul_Quant\&lt;^sub&gt;\&lt;Lambda&gt;|const"><span>✱<span class="hidden">⇧</span><sup>φ</sup></span></a></span><span> </span><span class="main"><span>{</span></span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>M</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less_eq|const"><span>≤</span></a></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.conj|const"><span>∧</span></a></span><span> </span><span class="bound"><span>i</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="var"><span>?N</span></span><span class="main"><span>}</span></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>λ</span></span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="Dynamic_Array_arbi_len.html#Dynamic_Array_arbi_len.DynArr|const"><span>DynArr</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>bucket_ptrs</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.nth|const"><span>!</span></a></span><span> </span><span class="bound"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Bucket_Hash.html#Bucket_Hash.\&lt;k&gt;\&lt;v&gt;_\&lt;e&gt;\&lt;n&gt;\&lt;t&gt;\&lt;r&gt;\&lt;y&gt;|const"><span>𝗄𝗏_𝖾𝗇𝗍𝗋𝗒</span></a><span> </span><span class="free"><span>TY</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⦃</span></span><span>k</span><span class="main"><span>:</span></span><span> </span><span class="main"><span>ℕ(</span></span><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_Pointer.html#PhiSem_Mem_Pointer.\&lt;s&gt;\&lt;i&gt;\&lt;z&gt;\&lt;e&gt;_\&lt;t&gt;|type"><span>𝗌𝗂𝗓𝖾_𝗍</span></a><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> v</span><span class="main"><span>:</span></span><span> </span><span class="free"><span>T</span></span><span class="main"><span>⦄</span></span><span class="main"><span>)</span></span><span> ›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span> </span><span class="main"><span>→</span></span><span> </span><span class="keyword2"><span class="keyword"><span>val</span></span></span><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
    </span><a class="entity_ref" href="Dynamic_Array_arbi_len.html#Dynamic_Array_arbi_len.del_dynarr_\&lt;phi&gt;app|fact"><span>del_dynarr</span></a><span> </span><span class="main"><span>(</span></span><span> tabl</span><span class="main"><span>[</span></span><span>i</span><span class="main"><span>]</span></span><span> </span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>❵</span></span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
  </span><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_C.html#PhiSem_Mem_C.mfree_\&lt;phi&gt;app|fact"><span>mfree</span></a><span> </span><span class="main"><span>(</span></span><span>tabl</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
  </span><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_C.html#PhiSem_Mem_C.mfree_\&lt;phi&gt;app|fact"><span>mfree</span></a><span> </span><span class="main"><span>(</span></span><span>addr</span><span class="main"><span>)</span></span><span>
</span><span class="keyword1"><span class="command"><span>❵</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>proc</span></span></span><span> </span><span class="entity_def" id="Bucket_Hash.entries_of_hash_\&lt;phi&gt;app|fact"><span class="entity_def" id="Bucket_Hash.entries_of_hash_def|fact"><span class="entity_def" id="Bucket_Hash.entries_of_hash_\&lt;phi&gt;app|thm"><span class="entity_def" id="Bucket_Hash.entries_of_hash_def|thm"><span class="entity_def" id="Bucket_Hash.entries_of_hash_def|axiom"><span class="entity_def" id="Bucket_Hash.entries_of_hash|const"><span class="entity_def" id="offset_8994..9009">entries_of_hash</span></span></span></span></span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>input</span></span></span><span>  </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>addr</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_Pointer.html#PhiSem_Mem_Pointer.Ptr|const"><span>ℙ𝗍𝗋</span></a></span><span> </span><a class="entity_ref" href="Bucket_Hash.html#Bucket_Hash.\&lt;h&gt;\&lt;a&gt;\&lt;s&gt;\&lt;h&gt;|const"><span>𝗁𝖺𝗌𝗁</span></a><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="Bucket_Hash.html#Bucket_Hash.Hash|const"><span>Hash</span></a><span> </span><span class="free"><span>addr</span></span><span> </span><span class="free"><span>TY</span></span><span> </span><span class="free"><span>T</span></span><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>output</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="bound"><span>addr'</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_Pointer.html#PhiSem_Mem_Pointer.Ptr|const"><span>ℙ𝗍𝗋</span></a></span><span> </span><a class="entity_ref" href="Dynamic_Array_arbi_len.html#Dynamic_Array_arbi_len.\&lt;d&gt;\&lt;y&gt;\&lt;n&gt;\&lt;a&gt;\&lt;r&gt;\&lt;r&gt;|const"><span>𝖽𝗒𝗇𝖺𝗋𝗋</span></a><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span>
          </span><span class="bound"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="Dynamic_Array_arbi_len.html#Dynamic_Array_arbi_len.DynArr|const"><span>DynArr</span></a><span> </span><span class="bound"><span>addr'</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Bucket_Hash.html#Bucket_Hash.\&lt;k&gt;\&lt;v&gt;_\&lt;e&gt;\&lt;n&gt;\&lt;t&gt;\&lt;r&gt;\&lt;y&gt;|const"><span>𝗄𝗏_𝖾𝗇𝗍𝗋𝗒</span></a><span> </span><span class="free"><span>TY</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⦃</span></span><span> k</span><span class="main"><span>:</span></span><span> </span><span class="main"><span>ℕ(</span></span><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_Pointer.html#PhiSem_Mem_Pointer.\&lt;s&gt;\&lt;i&gt;\&lt;z&gt;\&lt;e&gt;_\&lt;t&gt;|type"><span>𝗌𝗂𝗓𝖾_𝗍</span></a><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> v</span><span class="main"><span>:</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><span>⦄</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span>
          </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="Bucket_Hash.html#Bucket_Hash.Hash|const"><span>Hash</span></a><span> </span><span class="free"><span>addr</span></span><span> </span><span class="free"><span>TY</span></span><span> </span><span class="free"><span>T</span></span><span>
          </span><span class="keyword1"><span>𝗌𝗎𝖻𝗃</span></span><span> </span><span class="bound"><span>l</span></span><span> </span><span class="bound"><span>addr'</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="bound"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.graph|const"><span>Map.graph</span></a><span> </span><span class="free"><span>f</span></span><span>›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>❴</span></span></span><span>
  </span><a class="entity_ref" href="../Phi_System/IDE_CP_Applications1.html#IDE_CP_Applications1.\&lt;t&gt;\&lt;r&gt;\&lt;a&gt;\&lt;n&gt;\&lt;s&gt;\&lt;f&gt;\&lt;o&gt;\&lt;r&gt;\&lt;m&gt;\&lt;s&gt;_\&lt;t&gt;\&lt;o&gt;_\&lt;phi&gt;app|fact"><span>𝗍𝗋𝖺𝗇𝗌𝖿𝗈𝗋𝗆𝗌_𝗍𝗈</span></a><span> </span><span class="quoted"><span class="keyword1"><span>𝗈𝗉𝖾𝗇</span></span></span><span> </span><span class="main"><span>∃</span></span><span class="skolem"><span>bucket_ptrs</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>tabl</span></span><span class="main"><span>,</span></span><span> </span><span class="skolem"><span>buckets</span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>val</span></span></span><span> </span><span class="skolem"><span>dynarr</span></span><span> </span><span class="main"><span>←</span></span><span> </span><span class="keyword2"><span class="keyword"><span>apply_rule</span></span></span><span> </span><a class="entity_ref" href="Dynamic_Array_arbi_len.html#Dynamic_Array_arbi_len.new_dynarr_\&lt;phi&gt;app|fact"><span>new_dynarr</span></a><span class="main"><span>[</span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../Phi_System/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> T</span><span class="main"><span class="main"><span>=</span></span></span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>⦃</span></span><span> k</span><span class="main"><span>:</span></span><span> </span><span class="main"><span>ℕ(</span></span><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_Pointer.html#PhiSem_Mem_Pointer.\&lt;s&gt;\&lt;i&gt;\&lt;z&gt;\&lt;e&gt;_\&lt;t&gt;|type"><span>𝗌𝗂𝗓𝖾_𝗍</span></a><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> v</span><span class="main"><span>:</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><span>⦄</span></span><span>›</span></span></span><span class="main"><span>]</span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>val</span></span></span><span> </span><span class="skolem"><span>N</span></span><span> </span><span class="main"><span>←</span></span><span> addr.N </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>val</span></span></span><span> </span><span class="skolem"><span>tabl</span></span><span> </span><span class="main"><span>←</span></span><span> addr.tabl </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
  </span><a class="entity_ref" href="../PhiStd/PhiStd_Loop.html#PhiStd_Loop.iterate_\&lt;phi&gt;app|fact"><span>iterate</span></a><span> </span><span class="main"><span>(</span></span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="main"><span>ℕ(</span></span><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_Pointer.html#PhiSem_Mem_Pointer.\&lt;s&gt;\&lt;i&gt;\&lt;z&gt;\&lt;e&gt;_\&lt;t&gt;|type"><span>𝗌𝗂𝗓𝖾_𝗍</span></a><span class="main"><span>)</span></span><span>›</span></span></span><span class="main"><span>,</span></span><span> N</span><span class="main"><span>)</span></span><span>
           </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>λ</span></span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="Dynamic_Array_arbi_len.html#Dynamic_Array_arbi_len.DynArr|const"><span>DynArr</span></a><span> </span><span class="skolem"><span>addra</span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="Bucket_Hash.html#Bucket_Hash.\&lt;k&gt;\&lt;v&gt;_\&lt;e&gt;\&lt;n&gt;\&lt;t&gt;\&lt;r&gt;\&lt;y&gt;|const"><span>𝗄𝗏_𝖾𝗇𝗍𝗋𝗒</span></a><span> </span><span class="free"><span>TY</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>⦃</span></span><span> k</span><span class="main"><span>:</span></span><span> </span><span class="main"><span>ℕ(</span></span><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_Pointer.html#PhiSem_Mem_Pointer.\&lt;s&gt;\&lt;i&gt;\&lt;z&gt;\&lt;e&gt;_\&lt;t&gt;|type"><span>𝗌𝗂𝗓𝖾_𝗍</span></a><span class="main"><span>)</span></span><span class="main"><span>,</span></span><span> v</span><span class="main"><span>:</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="main"><span>⦄</span></span><span>
                </span><span class="keyword1"><span>𝗌𝗎𝖻𝗃</span></span><span> </span><span class="bound"><span>l</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="bound"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><span class="main"><span>(</span></span><span class="main"><span>⋃</span></span><span class="bound"><span>k</span></span><span class="main"><span>&lt;</span></span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>buckets</span></span><span> </span><span class="bound"><span>k</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span> </span><span class="main"><span>→</span></span><span> </span><span class="keyword2"><span class="keyword"><span>val</span></span></span><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
    </span><a class="entity_ref" href="Dynamic_Array_arbi_len.html#Dynamic_Array_arbi_len.concat_dynarr_\&lt;phi&gt;app|fact"><span>concat_dynarr</span></a><span> </span><span class="main"><span>(</span></span><span>dynarr</span><span class="main"><span>,</span></span><span> tabl</span><span class="main"><span>[</span></span><span>i</span><span class="main"><span>]</span></span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>❵</span></span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
  𝗆𝖺𝗄𝖾𝗌 </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="Bucket_Hash.html#Bucket_Hash.Hash|const"><span>Hash</span></a><span> </span><span class="free"><span>addr</span></span><span> </span><span class="free"><span>TY</span></span><span> </span><span class="free"><span>T</span></span><span>›</span></span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
  dynarr
</span><span class="keyword1"><span class="command"><span>❵</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>



</span><span class="keyword1"><span class="command"><span>proc</span></span></span><span> </span><span class="entity_def" id="Bucket_Hash.rehash_\&lt;phi&gt;app|fact"><span class="entity_def" id="Bucket_Hash.rehash_def|fact"><span class="entity_def" id="Bucket_Hash.rehash_\&lt;phi&gt;app|thm"><span class="entity_def" id="Bucket_Hash.rehash_def|thm"><span class="entity_def" id="Bucket_Hash.rehash_def|axiom"><span class="entity_def" id="Bucket_Hash.rehash|const"><span class="entity_def" id="offset_9673..9679">rehash</span></span></span></span></span></span></span><span class="main"><span>:</span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>input</span></span></span><span>  </span><span class="quoted"><span class="quoted"><span>‹</span><span class="free"><span>addr</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_Pointer.html#PhiSem_Mem_Pointer.Ptr|const"><span>ℙ𝗍𝗋</span></a></span><span> </span><a class="entity_ref" href="Bucket_Hash.html#Bucket_Hash.\&lt;h&gt;\&lt;a&gt;\&lt;s&gt;\&lt;h&gt;|const"><span>𝗁𝖺𝗌𝗁</span></a><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>N</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><span class="main"><span>ℕ(</span></span><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_Pointer.html#PhiSem_Mem_Pointer.\&lt;s&gt;\&lt;i&gt;\&lt;z&gt;\&lt;e&gt;_\&lt;t&gt;|type"><span>𝗌𝗂𝗓𝖾_𝗍</span></a><span class="main"><span>)</span></span><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="Bucket_Hash.html#Bucket_Hash.Hash|const"><span>Hash</span></a><span> </span><span class="free"><span>addr</span></span><span>  </span><span class="free"><span>TY</span></span><span> </span><span class="free"><span>T</span></span><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>premises</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.ord_class.less|const"><span>&lt;</span></a></span><span> </span><span class="free"><span>N</span></span><span>›</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>output</span></span></span><span> </span><span class="quoted"><span class="quoted"><span>‹</span><span class="bound"><span>addr'</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="keyword1"><span>𝗏𝖺𝗅</span></span><span> </span><span class="keyword1"><a class="entity_ref" href="../PhiStd/Phi_Semantics.PhiSem_Mem_Pointer.html#PhiSem_Mem_Pointer.Ptr|const"><span>ℙ𝗍𝗋</span></a></span><span> </span><a class="entity_ref" href="Bucket_Hash.html#Bucket_Hash.\&lt;h&gt;\&lt;a&gt;\&lt;s&gt;\&lt;h&gt;|const"><span>𝗁𝖺𝗌𝗁</span></a><span class="main"><a class="entity_ref" href="../Phi_System/Spec_Framework.html#Spec_Framework.COMMA|const"><span>❟</span></a></span><span> </span><span class="free"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="Bucket_Hash.html#Bucket_Hash.Hash|const"><span>Hash</span></a><span> </span><span class="bound"><span>addr'</span></span><span> </span><span class="free"><span>TY</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="keyword1"><span>𝗌𝗎𝖻𝗃</span></span><span> </span><span class="bound"><span>addr'</span></span><span class="main"><span>.</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Orderings.html#Orderings.top_class.top|const"><span>⊤</span></a></span><span>›</span></span></span><span>
</span><span class="keyword1"><span class="command"><span>❴</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>note</span></span></span><span> </span><span class="main"><span>[</span></span><a class="entity_ref" href="../Phi_System/IDE_CP_Core.html#IDE_CP_Core.\&lt;phi&gt;sledgehammer_simps|attribute"><span class="operator"><span>φsledgehammer_simps</span></span></a><span class="main"><span>]</span></span><span> </span><span class="main"><span>=</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.graph_def|fact"><span>Map.graph_def</span></a><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>

  </span><span class="keyword2"><span class="keyword"><span>val</span></span></span><span> </span><span class="skolem"><span>dynarr</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="Bucket_Hash.html#offset_8994..9009"><span>entries_of_hash</span></a><span> </span><span class="main"><span>(</span></span><span>addr</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
  </span><a class="entity_ref" href="Bucket_Hash.html#offset_8579..8587"><span>del_hash</span></a><span> </span><span class="main"><span>(</span></span><span>addr</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
  </span><span class="keyword2"><span class="keyword"><span>val</span></span></span><span> </span><span class="skolem"><span>ret</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="Bucket_Hash.html#offset_7405..7413"><span>new_hash</span></a><span> </span><span class="main"><span>(</span></span><span>N</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
  </span><a class="entity_ref" href="../PhiStd/PhiStd_Loop_a.html#PhiStd_Loop_a.iterate_a_\&lt;phi&gt;app|fact"><span>iterate_a</span></a><span> </span><span class="main"><span>(</span></span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><a class="entity_ref" href="../../HOL/HOL/Groups.html#Groups.zero_class.zero|const"><span>0</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_Semantics/PhiSem_Int_ArbiPrec.html#PhiSem_Int_ArbiPrec.\&lt;phi&gt;ANat|const"><span>ℕ</span></a></span><span>›</span></span></span><span class="main"><span>,</span></span><span> </span><a class="entity_ref" href="Dynamic_Array_arbi_len.html#Dynamic_Array_arbi_len.len_dynarr_\&lt;phi&gt;app|fact"><span>len_dynarr</span></a><span> </span><span class="main"><span>(</span></span><span>dynarr</span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>
             </span><span class="quoted"><span class="quoted"><span>‹</span><span class="main"><span>λ</span></span><span class="bound"><span>i</span></span><span class="main"><span>.</span></span><span> </span><span class="bound"><span>f</span></span><span> </span><span class="main"><a class="entity_ref" href="../Phi_System/Phi_BI.html#Phi_BI.\&lt;phi&gt;Type|const"><span>⦂</span></a></span><span> </span><a class="entity_ref" href="Bucket_Hash.html#Bucket_Hash.Hash|const"><span>Hash</span></a><span> </span><span class="skolem"><span>addra</span></span><span> </span><span class="free"><span>TY</span></span><span> </span><span class="free"><span>T</span></span><span> </span><span class="keyword1"><span>𝗌𝗎𝖻𝗃</span></span><span> </span><span class="bound"><span>f</span></span><span class="main"><span>.</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/List.html#List.list.set|const"><span>set</span></a><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/List.html#List.take|const"><span>take</span></a><span> </span><span class="bound"><span>i</span></span><span> </span><span class="skolem"><span>l</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.eq|const"><span>=</span></a></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Map.html#Map.graph|const"><span>Map.graph</span></a><span> </span><span class="bound"><span>f</span></span><span>›</span></span></span><span>
  </span><span class="keyword1"><span class="command"><span>❴</span></span></span><span> </span><span class="main"><span>→</span></span><span> </span><span class="keyword2"><span class="keyword"><span>val</span></span></span><span> </span><span class="skolem"><span>i</span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
    </span><span class="keyword2"><span class="keyword"><span>val</span></span></span><span> </span><span class="skolem"><span>entry</span></span><span> </span><span class="main"><span>←</span></span><span> </span><a class="entity_ref" href="Dynamic_Array_arbi_len.html#Dynamic_Array_arbi_len.get_dynarr_\&lt;phi&gt;app|fact"><span>get_dynarr</span></a><span> </span><span class="main"><span>(</span></span><span>dynarr</span><span class="main"><span>,</span></span><span> i</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
    </span><a class="entity_ref" href="Bucket_Hash.html#offset_4377..4388"><span>update_hash</span></a><span> </span><span class="main"><span>(</span></span><span>ret</span><span class="main"><span>,</span></span><span> entry.k</span><span class="main"><span>,</span></span><span> entry.v</span><span class="main"><span>)</span></span><span>
  </span><span class="keyword1"><span class="command"><span>❵</span></span></span><span> </span><span class="keyword2"><span class="keyword"><span>certified</span></span></span><span> </span><span class="keyword1"><span class="command"><span>by</span></span></span><span> </span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.clarify|method"><span class="operator"><span>clarify</span></span></a><span class="main"><span class="keyword3"><span>,</span></span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/ISABELLE_HOME/src/Provers/classical.ML.html#HOL.rule|method"><span class="operator"><span>rule</span></span></a><span> </span><a class="entity_ref" href="../../HOL/HOL/HOL.html#HOL.exI|fact"><span>exI</span></a><span class="main"><span class="main"><span>[</span></span></span><span class="keyword2"><span class="keyword"><a class="entity_ref" href="../Phi_System/ISABELLE_HOME/src/HOL/Eisbach/eisbach_rule_insts.ML.html#Eisbach.where|attribute"><span class="operator"><span>where</span></span></a></span></span><span> x</span><span class="main"><span class="main"><span class="main"><span>=</span></span></span></span><span class="quoted"><span class="quoted"><span>‹</span><span class="skolem"><span>fa</span></span><span class="main"><span>(</span></span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.fst|const"><span>fst</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.nth|const"><span>!</span></a></span><span> </span><span class="skolem"><span>i</span></span><span class="main"><span>)</span></span><span> </span><span class="main"><span>↦</span></span><span> </span><a class="entity_ref" href="../../HOL/HOL/Product_Type.html#Product_Type.prod.snd|const"><span>snd</span></a><span> </span><span class="main"><span>(</span></span><span class="skolem"><span>l</span></span><span> </span><span class="main"><a class="entity_ref" href="../../HOL/HOL/List.html#List.nth|const"><span>!</span></a></span><span> </span><span class="skolem"><span>i</span></span><span class="main"><span>)</span></span><span class="main"><span>)</span></span><span>›</span></span></span><span class="main"><span class="main"><span>]</span></span></span><span class="main"><span class="keyword3"><span>,</span></span></span><span>
                  </span><a class="entity_ref" href="../Phi_System/USER_HOME/Current/phi-system/Phi_System/library/tools/sledgehammer_solver.ML.html#IDE_CP_Core.auto_sledgehammer|method"><span class="operator"><span>auto_sledgehammer</span></span></a><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
  </span><a class="entity_ref" href="Dynamic_Array_arbi_len.html#Dynamic_Array_arbi_len.del_dynarr_\&lt;phi&gt;app|fact"><span>del_dynarr</span></a><span> </span><span class="main"><span>(</span></span><span>dynarr</span><span class="main"><span>)</span></span><span> </span><span class="keyword1"><span class="command"><span>；</span></span></span><span>
  ret
</span><span class="keyword1"><span class="command"><span>❵</span></span></span><span> </span><span class="keyword1"><span class="command"><span>.</span></span></span><span>


</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹The Conclusions of above Certification is the following Specification Theorems›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>thm</span></span></span><span> </span><a class="entity_ref" href="Bucket_Hash.html#Bucket_Hash.calc_hash_\&lt;phi&gt;app|fact"><span>calc_hash_φapp</span></a><span>
</span><span class="keyword1"><span class="command"><span>thm</span></span></span><span> </span><a class="entity_ref" href="Bucket_Hash.html#offset_3334..3347"><span>insert_bucket_φapp</span></a><span>
</span><span class="keyword1"><span class="command"><span>thm</span></span></span><span> </span><a class="entity_ref" href="Bucket_Hash.html#offset_4377..4388"><span>update_hash_φapp</span></a><span>
</span><span class="keyword1"><span class="command"><span>thm</span></span></span><span> </span><a class="entity_ref" href="Bucket_Hash.html#offset_5428..5442"><span>bucket_has_key_φapp</span></a><span>
</span><span class="keyword1"><span class="command"><span>thm</span></span></span><span> </span><a class="entity_ref" href="Bucket_Hash.html#offset_5886..5898"><span>hash_has_key_φapp</span></a><span>
</span><span class="keyword1"><span class="command"><span>thm</span></span></span><span> </span><a class="entity_ref" href="Bucket_Hash.html#offset_6316..6329"><span>lookup_bucket_φapp</span></a><span>
</span><span class="keyword1"><span class="command"><span>thm</span></span></span><span> </span><a class="entity_ref" href="Bucket_Hash.html#offset_6954..6965"><span>hash_lookup_φapp</span></a><span>
</span><span class="keyword1"><span class="command"><span>thm</span></span></span><span> </span><a class="entity_ref" href="Bucket_Hash.html#offset_7405..7413"><span>new_hash_φapp</span></a><span>
</span><span class="keyword1"><span class="command"><span>thm</span></span></span><span> </span><a class="entity_ref" href="Bucket_Hash.html#offset_8579..8587"><span>del_hash_φapp</span></a><span>
</span><span class="keyword1"><span class="command"><span>thm</span></span></span><span> </span><a class="entity_ref" href="Bucket_Hash.html#offset_8994..9009"><span>entries_of_hash_φapp</span></a><span>
</span><span class="keyword1"><span class="command"><span>thm</span></span></span><span> </span><a class="entity_ref" href="Bucket_Hash.html#offset_9673..9679"><span>rehash_φapp</span></a><span>

</span><span class="keyword1"><span class="command"><span>text</span></span></span><span> </span><span class="quoted"><span class="plain_text"><span>‹Semantic Representations of the Programs: ›</span></span></span><span>

</span><span class="keyword1"><span class="command"><span>thm</span></span></span><span> </span><a class="entity_ref" href="Bucket_Hash.html#Bucket_Hash.calc_hash_def|fact"><span>calc_hash_def</span></a><span>
</span><span class="keyword1"><span class="command"><span>thm</span></span></span><span> </span><a class="entity_ref" href="Bucket_Hash.html#offset_3334..3347"><span>insert_bucket_def</span></a><span>
</span><span class="keyword1"><span class="command"><span>thm</span></span></span><span> </span><a class="entity_ref" href="Bucket_Hash.html#offset_4377..4388"><span>update_hash_def</span></a><span>
</span><span class="keyword1"><span class="command"><span>thm</span></span></span><span> </span><a class="entity_ref" href="Bucket_Hash.html#offset_5428..5442"><span>bucket_has_key_def</span></a><span>
</span><span class="keyword1"><span class="command"><span>thm</span></span></span><span> </span><a class="entity_ref" href="Bucket_Hash.html#offset_5886..5898"><span>hash_has_key_def</span></a><span>
</span><span class="keyword1"><span class="command"><span>thm</span></span></span><span> </span><a class="entity_ref" href="Bucket_Hash.html#offset_6316..6329"><span>lookup_bucket_def</span></a><span>
</span><span class="keyword1"><span class="command"><span>thm</span></span></span><span> </span><a class="entity_ref" href="Bucket_Hash.html#offset_6954..6965"><span>hash_lookup_def</span></a><span>
</span><span class="keyword1"><span class="command"><span>thm</span></span></span><span> </span><a class="entity_ref" href="Bucket_Hash.html#offset_7405..7413"><span>new_hash_def</span></a><span>
</span><span class="keyword1"><span class="command"><span>thm</span></span></span><span> </span><a class="entity_ref" href="Bucket_Hash.html#offset_8579..8587"><span>del_hash_def</span></a><span>
</span><span class="keyword1"><span class="command"><span>thm</span></span></span><span> </span><a class="entity_ref" href="Bucket_Hash.html#offset_8994..9009"><span>entries_of_hash_def</span></a><span>
</span><span class="keyword1"><span class="command"><span>thm</span></span></span><span> </span><a class="entity_ref" href="Bucket_Hash.html#offset_9673..9679"><span>rehash_def</span></a><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span><span>

</span><span class="keyword2"><span class="keyword"><span>end</span></span></span></pre>
</body>

</html>